{"version":3,"file":"main.js","sources":["../../node_modules/riot/lib/browser/common/util/check.js","../../node_modules/riot/lib/browser/common/util/dom.js","../../node_modules/riot/lib/browser/common/util/misc.js","../../node_modules/riot/lib/browser/tag/setEventHandler.js","../../node_modules/riot/lib/browser/tag/update.js","../../node_modules/riot/lib/browser/tag/each.js","../../node_modules/riot/lib/browser/tag/parse.js","../../node_modules/riot/lib/browser/tag/mkdom.js","../../node_modules/riot/lib/browser/tag/core.js","../../node_modules/riot/lib/browser/tag/tag.js","../../node_modules/riot/lib/browser/common/util/tags.js","../../node_modules/riot/lib/browser/common/global-variables.js","../../node_modules/riot/lib/browser/tag/styleManager.js","../../node_modules/riot-tmpl/dist/es6.tmpl.js","../../node_modules/riot-observable/dist/es6.observable.js","../../node_modules/riot/lib/settings.js","../../node_modules/riot/lib/browser/tag/if.js","../../node_modules/riot/lib/browser/tag/ref.js","../../node_modules/riot/lib/riot.js","../../node_modules/animejs/anime.min.js","../../src/js/main.js"],"sourcesContent":["import {\n  T_STRING,\n  T_OBJECT,\n  T_FUNCTION,\n  T_UNDEF,\n  RE_BOOL_ATTRS\n} from './../global-variables'\n\n/**\n * Check if the passed argument is a boolean attribute\n * @param   { String } value -\n * @returns { Boolean } -\n */\nexport function isBoolAttr(value) {\n  return RE_BOOL_ATTRS.test(value)\n}\n\n/**\n * Check if passed argument is a function\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport function isFunction(value) {\n  return typeof value === T_FUNCTION\n}\n\n/**\n * Check if passed argument is an object, exclude null\n * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport function isObject(value) {\n  return value && typeof value === T_OBJECT // typeof null is 'object'\n}\n\n/**\n * Check if passed argument is undefined\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport function isUndefined(value) {\n  return typeof value === T_UNDEF\n}\n\n/**\n * Check if passed argument is a string\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport function isString(value) {\n  return typeof value === T_STRING\n}\n\n/**\n * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n * @param { * } value -\n * @returns { Boolean } -\n */\nexport function isBlank(value) {\n  return isUndefined(value) || value === null || value === ''\n}\n\n/**\n * Check if passed argument is a kind of array\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport function isArray(value) {\n  return Array.isArray(value) || value instanceof Array\n}\n\n/**\n * Check whether object's property could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } -\n */\nexport function isWritable(obj, key) {\n  const descriptor = Object.getOwnPropertyDescriptor(obj, key)\n  return isUndefined(obj[key]) || descriptor && descriptor.writable\n}\n","import { RE_HTML_ATTRS, XLINK_NS, XLINK_REGEX, SVG_NS } from './../global-variables'\nimport { isUndefined } from './check'\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nexport function $$(selector, ctx) {\n  return Array.prototype.slice.call((ctx || document).querySelectorAll(selector))\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nexport function $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Create a document fragment\n * @returns { Object } document fragment\n */\nexport function createFrag() {\n  return document.createDocumentFragment()\n}\n\n/**\n * Create a document text node\n * @returns { Object } create a text node to use as placeholder\n */\nexport function createDOMPlaceholder() {\n  return document.createTextNode('')\n}\n\n/**\n * Check if a DOM node is an svg tag\n * @param   { HTMLElement }  el - node we want to test\n * @returns {Boolean} true if it's an svg node\n */\nexport function isSvg(el) {\n  return !!el.ownerSVGElement\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @param   { Boolean } isSvg - true if we need to use an svg node\n * @returns { Object } DOM node just created\n */\nexport function mkEl(name) {\n  return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n}\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we'll inject new html\n * @param { String } html - html to inject\n */\n/* istanbul ignore next */\nexport function setInnerHTML(container, html) {\n  if (!isUndefined(container.innerHTML))\n    container.innerHTML = html\n    // some browsers do not support innerHTML on the SVGs tags\n  else {\n    const doc = new DOMParser().parseFromString(html, 'application/xml')\n    const node = container.ownerDocument.importNode(doc.documentElement, true)\n    container.appendChild(node)\n  }\n}\n\n/**\n * Toggle the visibility of any DOM node\n * @param   { Object }  dom - DOM node we want to hide\n * @param   { Boolean } show - do we want to show it?\n */\n\nexport function toggleVisibility(dom, show) {\n  dom.style.display = show ? '' : 'none'\n  dom['hidden'] = show ? false : true\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nexport function remAttr(dom, name) {\n  dom.removeAttribute(name)\n}\n\n/**\n * Convert a style object to a string\n * @param   { Object } style - style object we need to parse\n * @returns { String } resulting css string\n * @example\n * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n */\nexport function styleObjectToString(style) {\n  return Object.keys(style).reduce((acc, prop) => {\n    return `${acc} ${prop}: ${style[prop]};`\n  }, '')\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nexport function getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nexport function setAttr(dom, name, val) {\n  const xlink = XLINK_REGEX.exec(name)\n  if (xlink && xlink[1])\n    dom.setAttributeNS(XLINK_NS, xlink[1], val)\n  else\n    dom.setAttribute(name, val)\n}\n\n/**\n * Insert safely a tag to fix #1962 #1649\n * @param   { HTMLElement } root - children container\n * @param   { HTMLElement } curr - node to insert\n * @param   { HTMLElement } next - node that should preceed the current node inserted\n */\nexport function safeInsert(root, curr, next) {\n  root.insertBefore(curr, next.parentNode && next)\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nexport function walkAttrs(html, fn) {\n  if (!html) return\n  let m\n  while (m = RE_HTML_ATTRS.exec(html))\n    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n * @param   { Object }   context - fn can optionally return an object, which is passed to children\n */\nexport function walkNodes(dom, fn, context) {\n  if (dom) {\n    const res = fn(dom, context)\n    let next\n    // stop the recursion\n    if (res === false) return\n\n    dom = dom.firstChild\n\n    while (dom) {\n      next = dom.nextSibling\n      walkNodes(dom, fn, res)\n      dom = next\n    }\n  }\n}","import { isWritable } from './check'\n\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } list - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nexport function each(list, fn) {\n  const len = list ? list.length : 0\n  let i = 0\n  for (; i < len; ++i) {\n    fn(list[i], i)\n  }\n  return list\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } array - target array\n * @param   { * } item - item to test\n * @returns { Boolean } -\n */\nexport function contains(array, item) {\n  return array.indexOf(item) !== -1\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } str - input string\n * @returns { String } my-string -> myString\n */\nexport function toCamel(str) {\n  return str.replace(/-(\\w)/g, (_, c) => c.toUpperCase())\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } str - source string\n * @param   { String } value - test string\n * @returns { Boolean } -\n */\nexport function startsWith(str, value) {\n  return str.slice(0, value.length) === value\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n * @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nexport function defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options))\n  return el\n}\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nexport function extend(src) {\n  let obj\n  const args = arguments\n  for (let i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (const key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          src[key] = obj[key]\n      }\n    }\n  }\n  return src\n}","import { isWritable } from './../common/util/check'\nimport { contains } from './../common/util/misc'\nimport { RE_EVENTS_PREFIX, RIOT_EVENTS_KEY } from '../common/global-variables'\nimport { getImmediateCustomParentTag } from './../common/util/tags'\nimport settings from '../../settings'\n\n/**\n * Trigger DOM events\n * @param   { HTMLElement } dom - dom element target of the event\n * @param   { Function } handler - user function\n * @param   { Object } e - event object\n */\nfunction handleEvent(dom, handler, e) {\n  let ptag = this.__.parent\n  let item = this.__.item\n\n  if (!item)\n    while (ptag && !item) {\n      item = ptag.__.item\n      ptag = ptag.__.parent\n    }\n\n  // override the event properties\n  /* istanbul ignore next */\n  if (isWritable(e, 'currentTarget')) e.currentTarget = dom\n  /* istanbul ignore next */\n  if (isWritable(e, 'target')) e.target = e.srcElement\n  /* istanbul ignore next */\n  if (isWritable(e, 'which')) e.which = e.charCode || e.keyCode\n\n  e.item = item\n\n  handler.call(this, e)\n\n  // avoid auto updates\n  if (!settings.autoUpdate) return\n\n  if (!e.preventUpdate) {\n    const p = getImmediateCustomParentTag(this)\n    // fixes #2083\n    if (p.isMounted) p.update()\n  }\n}\n\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nexport default function setEventHandler(name, handler, dom, tag) {\n  let eventName\n  const cb = handleEvent.bind(tag, dom, handler)\n\n  // avoid to bind twice the same event\n  // possible fix for #2332\n  dom[name] = null\n\n  // normalize event name\n  eventName = name.replace(RE_EVENTS_PREFIX, '')\n\n  // cache the listener into the listeners array\n  if (!contains(tag.__.listeners, dom)) tag.__.listeners.push(dom)\n  if (!dom[RIOT_EVENTS_KEY]) dom[RIOT_EVENTS_KEY] = {}\n  if (dom[RIOT_EVENTS_KEY][name]) dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name])\n\n  dom[RIOT_EVENTS_KEY][name] = cb\n  dom.addEventListener(eventName, cb, false)\n}\n","import { tmpl } from 'riot-tmpl'\nimport { each, contains, extend } from './../common/util/misc'\nimport { isFunction, isBlank, isObject, isString } from './../common/util/check'\nimport {\n  remAttr,\n  getAttr,\n  setAttr,\n  createDOMPlaceholder,\n  toggleVisibility,\n  styleObjectToString\n} from './../common/util/dom'\nimport setEventHandler from './setEventHandler'\nimport {\n  initChildTag,\n  makeReplaceVirtual,\n  arrayishRemove\n} from './../common/util/tags'\n\nimport {\n  __TAG_IMPL,\n  ATTRS_PREFIX,\n  SHOW_DIRECTIVE,\n  HIDE_DIRECTIVE,\n  IE_VERSION,\n  CASE_SENSITIVE_ATTRIBUTES\n} from './../common/global-variables'\n\n/**\n * Update dynamically created data-is tags with changing expressions\n * @param { Object } expr - expression tag and expression info\n * @param { Tag }    parent - parent for tag creation\n * @param { String } tagName - tag implementation we want to use\n */\nexport function updateDataIs(expr, parent, tagName) {\n  let tag = expr.tag || expr.dom._tag,\n    ref\n\n  const { head } = tag ? tag.__ : {}\n  const isVirtual = expr.dom.tagName === 'VIRTUAL'\n\n  if (tag && expr.tagName === tagName) {\n    tag.update()\n    return\n  }\n\n  // sync _parent to accommodate changing tagnames\n  if (tag) {\n    // need placeholder before unmount\n    if(isVirtual) {\n      ref = createDOMPlaceholder()\n      head.parentNode.insertBefore(ref, head)\n    }\n\n    tag.unmount(true)\n  }\n\n  // unable to get the tag name\n  if (!isString(tagName)) return\n\n  expr.impl = __TAG_IMPL[tagName]\n\n  // unknown implementation\n  if (!expr.impl) return\n\n  expr.tag = tag = initChildTag(\n    expr.impl, {\n      root: expr.dom,\n      parent: parent,\n      tagName: tagName\n    },\n    expr.dom.innerHTML,\n    parent\n  )\n\n  each(expr.attrs, a => setAttr(tag.root, a.name, a.value))\n  expr.tagName = tagName\n  tag.mount()\n\n  // root exist first time, after use placeholder\n  if (isVirtual) makeReplaceVirtual(tag, ref || tag.root)\n\n  // parent is the placeholder tag, not the dynamic tag so clean up\n  parent.__.onUnmount = function() {\n    const delName = tag.opts.dataIs\n    arrayishRemove(tag.parent.tags, delName, tag)\n    arrayishRemove(tag.__.parent.tags, delName, tag)\n    tag.unmount()\n  }\n}\n\n/**\n * Nomalize any attribute removing the \"riot-\" prefix\n * @param   { String } attrName - original attribute name\n * @returns { String } valid html attribute name\n */\nexport function normalizeAttrName(attrName) {\n  if (!attrName) return null\n  attrName = attrName.replace(ATTRS_PREFIX, '')\n  if (CASE_SENSITIVE_ATTRIBUTES[attrName]) attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]\n  return attrName\n}\n\n/**\n * Update on single tag expression\n * @this Tag\n * @param { Object } expr - expression logic\n * @returns { undefined }\n */\nexport function updateExpression(expr) {\n  if (this.root && getAttr(this.root,'virtualized')) return\n\n  var dom = expr.dom,\n    // remove the riot- prefix\n    attrName = normalizeAttrName(expr.attr),\n    isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName),\n    isVirtual = expr.root && expr.root.tagName === 'VIRTUAL',\n    parent = dom && (expr.parent || dom.parentNode),\n    // detect the style attributes\n    isStyleAttr = attrName === 'style',\n    isClassAttr = attrName === 'class',\n    hasValue,\n    isObj,\n    value\n\n  // if it's a tag we could totally skip the rest\n  if (expr._riot_id) {\n    if (expr.__.wasCreated) {\n      expr.update()\n    // if it hasn't been mounted yet, do that now.\n    } else {\n      expr.mount()\n      if (isVirtual) {\n        makeReplaceVirtual(expr, expr.root)\n      }\n    }\n    return\n  }\n  // if this expression has the update method it means it can handle the DOM changes by itself\n  if (expr.update) return expr.update()\n\n  // ...it seems to be a simple expression so we try to calculat its value\n  value = tmpl(expr.expr, isToggle ? extend({}, Object.create(this.parent), this) : this)\n  hasValue = !isBlank(value)\n  isObj = isObject(value)\n\n  // convert the style/class objects to strings\n  if (isObj) {\n    isObj = !isClassAttr && !isStyleAttr\n    if (isClassAttr) {\n      value = tmpl(JSON.stringify(value), this)\n    } else if (isStyleAttr) {\n      value = styleObjectToString(value)\n    }\n  }\n\n  // remove original attribute\n  if (expr.attr && (!expr.isAttrRemoved || !hasValue || value === false)) {\n    remAttr(dom, expr.attr)\n    expr.isAttrRemoved = true\n  }\n\n  // for the boolean attributes we don't need the value\n  // we can convert it to checked=true to checked=checked\n  if (expr.bool) value = value ? attrName : false\n  if (expr.isRtag) return updateDataIs(expr, this, value)\n  if (expr.wasParsedOnce && expr.value === value) return\n\n  // update the expression value\n  expr.value = value\n  expr.wasParsedOnce = true\n\n  // if the value is an object we can not do much more with it\n  if (isObj && !isToggle) return\n  // avoid to render undefined/null values\n  if (isBlank(value)) value = ''\n\n  // textarea and text nodes have no attribute name\n  if (!attrName) {\n    // about #815 w/o replace: the browser converts the value to a string,\n    // the comparison by \"==\" does too, but not in the server\n    value += ''\n    // test for parent avoids error with invalid assignment to nodeValue\n    if (parent) {\n      // cache the parent node because somehow it will become null on IE\n      // on the next iteration\n      expr.parent = parent\n      if (parent.tagName === 'TEXTAREA') {\n        parent.value = value                    // #1113\n        if (!IE_VERSION) dom.nodeValue = value  // #1625 IE throws here, nodeValue\n      }                                         // will be available on 'updated'\n      else dom.nodeValue = value\n    }\n    return\n  }\n\n\n  // event handler\n  if (isFunction(value)) {\n    setEventHandler(attrName, value, dom, this)\n  // show / hide\n  } else if (isToggle) {\n    toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value)\n  // handle attributes\n  } else {\n    if (expr.bool) {\n      dom[attrName] = value\n    }\n\n    if (attrName === 'value' && dom.value !== value) {\n      dom.value = value\n    } else if (hasValue && value !== false) {\n      setAttr(dom, attrName, value)\n    }\n\n    // make sure that in case of style changes\n    // the element stays hidden\n    if (isStyleAttr && dom.hidden) toggleVisibility(dom, false)\n  }\n}\n\n/**\n * Update all the expressions in a Tag instance\n * @this Tag\n * @param { Array } expressions - expression that must be re evaluated\n */\nexport default function updateAllExpressions(expressions) {\n  each(expressions, updateExpression.bind(this))\n}\n","import { isArray, isString } from './../common/util/check'\nimport { remAttr, getAttr, createDOMPlaceholder, safeInsert, createFrag } from './../common/util/dom'\nimport { each, contains, extend } from './../common/util/misc'\nimport { tmpl } from 'riot-tmpl'\nimport Tag from './tag'\n\nimport {\n  T_STRING,\n  T_OBJECT,\n  __TAG_IMPL,\n  CONDITIONAL_DIRECTIVE,\n  LOOP_DIRECTIVE,\n  LOOP_NO_REORDER_DIRECTIVE,\n  KEY_DIRECTIVE\n} from './../common/global-variables'\n\nimport {\n  moveChildTag,\n  getTag,\n  getTagName,\n  arrayishAdd,\n  arrayishRemove,\n  makeVirtual,\n  moveVirtual\n} from './../common/util/tags'\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @param   { Object } base - prototype object for the new item\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val, base) {\n  const item = base ? Object.create(base) : {}\n  item[expr.key] = key\n  if (expr.pos) item[expr.pos] = val\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n  let i = tags.length\n  const j = items.length\n\n  while (i > j) {\n    i--\n    remove.apply(tags[i], [tags, i])\n  }\n}\n\n\n/**\n * Remove a child tag\n * @this Tag\n * @param   { Array } tags - tags collection\n * @param   { Number } i - index of the tag to remove\n */\nfunction remove(tags, i) {\n  tags.splice(i, 1)\n  this.unmount()\n  arrayishRemove(this.parent, this, this.__.tagName, true)\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @this Tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(i) {\n  each(Object.keys(this.tags), (tagName) => {\n    moveChildTag.apply(this.tags[tagName], [tagName, i])\n  })\n}\n\n/**\n * Move a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction move(root, nextTag, isVirtual) {\n  if (isVirtual)\n    moveVirtual.apply(this, [root, nextTag])\n  else\n    safeInsert(root, this.root, nextTag.root)\n}\n\n/**\n * Insert and mount a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction insert(root, nextTag, isVirtual) {\n  if (isVirtual)\n    makeVirtual.apply(this, [root, nextTag])\n  else\n    safeInsert(root, this.root, nextTag.root)\n}\n\n/**\n * Append a new tag into the DOM\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction append(root, isVirtual) {\n  if (isVirtual)\n    makeVirtual.call(this, root)\n  else\n    root.appendChild(this.root)\n}\n\n/**\n * Return the value we want to use to lookup the postion of our items in the collection\n * @param   { String }  keyAttr         - lookup string or expression\n * @param   { * }       originalItem    - original item from the collection\n * @param   { Object }  keyedItem       - object created by riot via { item, i in collection }\n * @param   { Boolean } hasKeyAttrExpr  - flag to check whether the key is an expression\n * @returns { * } value that we will use to figure out the item position via collection.indexOf\n */\nfunction getItemId(keyAttr, originalItem, keyedItem, hasKeyAttrExpr) {\n  if (keyAttr) {\n    return hasKeyAttrExpr ?  tmpl(keyAttr, keyedItem) :  originalItem[keyAttr]\n  }\n\n  return originalItem\n}\n\n/**\n * Manage tags having the 'each'\n * @param   { HTMLElement } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n * @returns { Object } expression object for this each loop\n */\nexport default function _each(dom, parent, expr) {\n  const mustReorder = typeof getAttr(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || remAttr(dom, LOOP_NO_REORDER_DIRECTIVE)\n  const keyAttr = getAttr(dom, KEY_DIRECTIVE)\n  const hasKeyAttrExpr = keyAttr ? tmpl.hasExpr(keyAttr) : false\n  const tagName = getTagName(dom)\n  const impl = __TAG_IMPL[tagName]\n  const parentNode = dom.parentNode\n  const placeholder = createDOMPlaceholder()\n  const child = getTag(dom)\n  const ifExpr = getAttr(dom, CONDITIONAL_DIRECTIVE)\n  const tags = []\n  const isLoop = true\n  const isAnonymous = !__TAG_IMPL[tagName]\n  const isVirtual = dom.tagName === 'VIRTUAL'\n  let oldItems = []\n  let hasKeys\n\n  // remove the each property from the original tag\n  remAttr(dom, LOOP_DIRECTIVE)\n  remAttr(dom, KEY_DIRECTIVE)\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr)\n  expr.isLoop = true\n\n  if (ifExpr) remAttr(dom, CONDITIONAL_DIRECTIVE)\n\n  // insert a marked where the loop tags will be injected\n  parentNode.insertBefore(placeholder, dom)\n  parentNode.removeChild(dom)\n\n  expr.update = function updateEach() {\n    // get the new items collection\n    expr.value = tmpl(expr.val, parent)\n\n    let items = expr.value\n    const frag = createFrag()\n    const isObject = !isArray(items) && !isString(items)\n    const root = placeholder.parentNode\n    const tmpItems = []\n\n    // if this DOM was removed the update here is useless\n    // this condition fixes also a weird async issue on IE in our unit test\n    if (!root) return\n\n    // object loop. any changes cause full redraw\n    if (isObject) {\n      hasKeys = items || false\n      items = hasKeys ?\n        Object.keys(items).map(key => mkitem(expr, items[key], key)) : []\n    } else {\n      hasKeys = false\n    }\n\n    if (ifExpr) {\n      items = items.filter((item, i) => {\n        if (expr.key && !isObject)\n          return !!tmpl(ifExpr, mkitem(expr, item, i, parent))\n\n        return !!tmpl(ifExpr, extend(Object.create(parent), item))\n      })\n    }\n\n    // loop all the new items\n    each(items, (_item, i) => {\n      const item = !hasKeys && expr.key ? mkitem(expr, _item, i) : _item\n      const itemId = getItemId(keyAttr, _item, item, hasKeyAttrExpr)\n      // reorder only if the items are objects\n      const doReorder = mustReorder && typeof _item === T_OBJECT && !hasKeys\n      const oldPos = oldItems.indexOf(itemId)\n      const isNew = oldPos === -1\n      const pos = !isNew && doReorder ? oldPos : i\n      // does a tag exist in this position?\n      let tag = tags[pos]\n      const mustAppend = i >= oldItems.length\n      const mustCreate =  doReorder && isNew || !doReorder && !tag\n\n      // new tag\n      if (mustCreate) {\n        tag = new Tag(impl, {\n          parent,\n          isLoop,\n          isAnonymous,\n          tagName,\n          root: dom.cloneNode(isAnonymous),\n          item,\n          index: i,\n        }, dom.innerHTML)\n\n        // mount the tag\n        tag.mount()\n\n        if (mustAppend)\n          append.apply(tag, [frag || root, isVirtual])\n        else\n          insert.apply(tag, [root, tags[i], isVirtual])\n\n        if (!mustAppend) oldItems.splice(i, 0, item)\n        tags.splice(i, 0, tag)\n        if (child) arrayishAdd(parent.tags, tagName, tag, true)\n      } else if (pos !== i && doReorder) {\n        // move\n        if (keyAttr || contains(items, oldItems[pos])) {\n          move.apply(tag, [root, tags[i], isVirtual])\n          // move the old tag instance\n          tags.splice(i, 0, tags.splice(pos, 1)[0])\n          // move the old item\n          oldItems.splice(i, 0, oldItems.splice(pos, 1)[0])\n        }\n\n        // update the position attribute if it exists\n        if (expr.pos) tag[expr.pos] = i\n\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) moveNestedTags.call(tag, i)\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag.__.item = item\n      tag.__.index = i\n      tag.__.parent = parent\n\n      tmpItems[i] = itemId\n\n      if (!mustCreate) tag.update(item)\n    })\n\n    // remove the redundant tags\n    unmountRedundant(items, tags)\n\n    // clone the items array\n    oldItems = tmpItems.slice()\n\n    root.insertBefore(frag, placeholder)\n  }\n\n  expr.unmount = () => {\n    each(tags, t => { t.unmount() })\n  }\n\n  return expr\n}","import IfExpr from './if'\nimport RefExpr from './ref'\nimport _each from './each'\nimport { tmpl } from 'riot-tmpl'\nimport {\n  CONDITIONAL_DIRECTIVE,\n  LOOP_DIRECTIVE,\n  IS_DIRECTIVE,\n  REF_DIRECTIVES,\n  YIELD_TAG\n} from './../common/global-variables'\nimport { isBoolAttr } from './../common/util/check'\nimport { walkNodes, getAttr, setAttr } from './../common/util/dom'\nimport { each, contains } from './../common/util/misc'\nimport { getTag, initChildTag } from './../common/util/tags'\nimport Tag from './tag'\n\n/**\n * Walk the tag DOM to detect the expressions to evaluate\n * @this Tag\n * @param   { HTMLElement } root - root tag where we will start digging the expressions\n * @param   { Array } expressions - empty array where the expressions will be added\n * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n * @returns { Object } an object containing the root noode and the dom tree\n */\nexport function parseExpressions(root, expressions, mustIncludeRoot) {\n  const tree = {parent: {children: expressions}}\n\n  walkNodes(root, (dom, ctx) => {\n    let type = dom.nodeType,\n      parent = ctx.parent,\n      attr,\n      expr,\n      tagImpl\n\n    if (!mustIncludeRoot && dom === root) return {parent}\n\n    // text node\n    if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n      parent.children.push({dom, expr: dom.nodeValue})\n\n    if (type !== 1) return ctx // not an element\n\n    const isVirtual = dom.tagName === 'VIRTUAL'\n\n    // loop. each does it's own thing (for now)\n    if (attr = getAttr(dom, LOOP_DIRECTIVE)) {\n      if(isVirtual) setAttr(dom, 'loopVirtual', true) // ignore here, handled in _each\n      parent.children.push(_each(dom, this, attr))\n      return false\n    }\n\n    // if-attrs become the new parent. Any following expressions (either on the current\n    // element, or below it) become children of this expression.\n    if (attr = getAttr(dom, CONDITIONAL_DIRECTIVE)) {\n      parent.children.push(Object.create(IfExpr).init(dom, this, attr))\n      return false\n    }\n\n    if (expr = getAttr(dom, IS_DIRECTIVE)) {\n      if (tmpl.hasExpr(expr)) {\n        parent.children.push({\n          isRtag: true,\n          expr,\n          dom,\n          attrs: [].slice.call(dom.attributes)\n        })\n        return false\n      }\n    }\n\n    // if this is a tag, stop traversing here.\n    // we ignore the root, since parseExpressions is called while we're mounting that root\n    tagImpl = getTag(dom)\n    if(isVirtual) {\n      if(getAttr(dom, 'virtualized')) {dom.parentElement.removeChild(dom) } // tag created, remove from dom\n      if(!tagImpl && !getAttr(dom, 'virtualized') && !getAttr(dom, 'loopVirtual'))  // ok to create virtual tag\n        tagImpl = { tmpl: dom.outerHTML }\n    }\n\n    if (tagImpl && (dom !== root || mustIncludeRoot)) {\n      if(isVirtual && !getAttr(dom, IS_DIRECTIVE)) { // handled in update\n        // can not remove attribute like directives\n        // so flag for removal after creation to prevent maximum stack error\n        setAttr(dom, 'virtualized', true)\n        const tag = new Tag(\n          {tmpl: dom.outerHTML},\n          {root: dom, parent: this},\n          dom.innerHTML\n        )\n        parent.children.push(tag) // no return, anonymous tag, keep parsing\n      } else {\n        parent.children.push(\n          initChildTag(\n            tagImpl,\n            {\n              root: dom,\n              parent: this\n            },\n            dom.innerHTML,\n            this\n          )\n        )\n        return false\n      }\n    }\n\n    // attribute expressions\n    parseAttributes.apply(this, [dom, dom.attributes, (attr, expr) => {\n      if (!expr) return\n      parent.children.push(expr)\n    }])\n\n    // whatever the parent is, all child elements get the same parent.\n    // If this element had an if-attr, that's the parent for all child elements\n    return {parent}\n  }, tree)\n}\n\n/**\n * Calls `fn` for every attribute on an element. If that attr has an expression,\n * it is also passed to fn.\n * @this Tag\n * @param   { HTMLElement } dom - dom node to parse\n * @param   { Array } attrs - array of attributes\n * @param   { Function } fn - callback to exec on any iteration\n */\nexport function parseAttributes(dom, attrs, fn) {\n  each(attrs, (attr) => {\n    if (!attr) return false\n\n    const name = attr.name\n    const bool = isBoolAttr(name)\n    let expr\n\n    if (contains(REF_DIRECTIVES, name) && dom.tagName.toLowerCase() !== YIELD_TAG) {\n      expr =  Object.create(RefExpr).init(dom, this, name, attr.value)\n    } else if (tmpl.hasExpr(attr.value)) {\n      expr = {dom, expr: attr.value, attr: name, bool}\n    }\n\n    fn(attr, expr)\n  })\n}\n","import { mkEl, setInnerHTML, $ } from './../common/util/dom'\n\nimport {\n  IE_VERSION,\n  RE_SPECIAL_TAGS,\n  RE_SPECIAL_TAGS_NO_OPTION\n} from './../common/global-variables'\n\n/*\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\n\nconst\n  reHasYield  = /<yield\\b/i,\n  reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig,\n  reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n  reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig,\n  rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n  tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION,\n  GENERIC = 'div',\n  SVG = 'svg'\n\n\n/*\n  Creates the root element for table or select child elements:\n  tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n*/\nfunction specialTags(el, tmpl, tagName) {\n\n  let\n    select = tagName[0] === 'o',\n    parent = select ? 'select>' : 'table>'\n\n  // trim() is important here, this ensures we don't have artifacts,\n  // so we can check if we have only one element inside the parent\n  el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent\n  parent = el.firstChild\n\n  // returns the immediate parent if tr/th/td/col is the only element, if not\n  // returns the whole tree, as this can include additional elements\n  /* istanbul ignore next */\n  if (select) {\n    parent.selectedIndex = -1  // for IE9, compatible w/current riot behavior\n  } else {\n    // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n    const tname = rootEls[tagName]\n    if (tname && parent.childElementCount === 1) parent = $(tname, parent)\n  }\n  return parent\n}\n\n/*\n  Replace the yield tag from any tag template with the innerHTML of the\n  original tag in the page\n*/\nfunction replaceYield(tmpl, html) {\n  // do nothing if no yield\n  if (!reHasYield.test(tmpl)) return tmpl\n\n  // be careful with #1343 - string on the source having `$1`\n  const src = {}\n\n  html = html && html.replace(reYieldSrc, function (_, ref, text) {\n    src[ref] = src[ref] || text   // preserve first definition\n    return ''\n  }).trim()\n\n  return tmpl\n    .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n      return src[ref] || def || ''\n    })\n    .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n      return html || def || ''\n    })\n}\n\n/**\n * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n *\n * @param   { String } tmpl  - The template coming from the custom tag definition\n * @param   { String } html - HTML content that comes from the DOM element where you\n *           will mount the tag, mostly the original tag in the page\n * @param   { Boolean } isSvg - true if the root node is an svg\n * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n */\nexport default function mkdom(tmpl, html, isSvg) {\n  const match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/)\n  const  tagName = match && match[1].toLowerCase()\n  let el = mkEl(isSvg ? SVG : GENERIC)\n\n  // replace all the yield tags with the tag inner html\n  tmpl = replaceYield(tmpl, html)\n\n  /* istanbul ignore next */\n  if (tblTags.test(tagName))\n    el = specialTags(el, tmpl, tagName)\n  else\n    setInnerHTML(el, tmpl)\n\n  return el\n}\n","import styleManager from './styleManager'\nimport { isString, isUndefined, isObject, isFunction } from './../common/util/check'\nimport { setAttr, getAttr, $$ } from './../common/util/dom'\nimport { each, extend } from './../common/util/misc'\nimport { mountTo, selectTags } from './../common/util/tags'\n\nimport {\n  __TAG_IMPL,\n  __TAGS_CACHE,\n  GLOBAL_MIXIN,\n  IS_DIRECTIVE\n} from './../common/global-variables'\n\n/**\n * Another way to create a riot tag a bit more es6 friendly\n * @param { HTMLElement } el - tag DOM selector or DOM node/s\n * @param { Object } opts - tag logic\n * @returns { Tag } new riot tag instance\n */\nexport function Tag(el, opts) {\n  // get the tag properties from the class constructor\n  const {name, tmpl, css, attrs, onCreate} = this\n  // register a new tag and cache the class prototype\n  if (!__TAG_IMPL[name]) {\n    tag(name, tmpl, css, attrs, onCreate)\n    // cache the class constructor\n    __TAG_IMPL[name].class = this.constructor\n  }\n\n  // mount the tag using the class instance\n  mountTo(el, name, opts, this)\n  // inject the component css\n  if (css) styleManager.inject()\n\n  return this\n}\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nexport function tag(name, tmpl, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs\n\n    if (/^[\\w-]+\\s?=/.test(css)) {\n      attrs = css\n      css = ''\n    } else\n      attrs = ''\n  }\n\n  if (css) {\n    if (isFunction(css))\n      fn = css\n    else\n      styleManager.add(css)\n  }\n\n  name = name.toLowerCase()\n  __TAG_IMPL[name] = { name, tmpl, attrs, fn }\n\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nexport function tag2(name, tmpl, css, attrs, fn) {\n  if (css) styleManager.add(css, name)\n\n  __TAG_IMPL[name] = { name, tmpl, attrs, fn }\n\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { * } selector - tag DOM selector or DOM node/s\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nexport function mount(selector, tagName, opts) {\n  const tags = []\n  let elem, allTags\n\n  function pushTagsTo(root) {\n    if (root.tagName) {\n      let riotTag = getAttr(root, IS_DIRECTIVE), tag\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName\n        setAttr(root, IS_DIRECTIVE, tagName)\n      }\n\n      tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts)\n\n      if (tag)\n        tags.push(tag)\n    } else if (root.length)\n      each(root, pushTagsTo) // assume nodeList\n  }\n\n  // inject styles into DOM\n  styleManager.inject()\n\n  if (isObject(tagName)) {\n    opts = tagName\n    tagName = 0\n  }\n\n  // crawl the DOM to find the tag\n  if (isString(selector)) {\n    selector = selector === '*' ?\n      // select all registered tags\n      // & tags found with the riot-tag attribute set\n      allTags = selectTags() :\n      // or just the ones named like the selector\n      selector + selectTags(selector.split(/, */))\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    elem = selector ? $$(selector) : []\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    elem = selector\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectTags()\n    // if the root els it's just a single tag\n    if (elem.tagName)\n      elem = $$(tagName, elem)\n    else {\n      // select all the children for all the different root elements\n      var nodeList = []\n\n      each(elem, _el => nodeList.push($$(tagName, _el)))\n\n      elem = nodeList\n    }\n    // get rid of the tagName\n    tagName = 0\n  }\n\n  pushTagsTo(elem)\n\n  return tags\n}\n\n// Create a mixin that could be globally shared across all the tags\nconst mixins = {}\nconst globals = mixins[GLOBAL_MIXIN] = {}\nlet mixins_id = 0\n\n/**\n * Create/Return a mixin by its name\n * @param   { String }  name - mixin name (global mixin if object)\n * @param   { Object }  mix - mixin logic\n * @param   { Boolean } g - is global?\n * @returns { Object }  the mixin logic\n */\nexport function mixin(name, mix, g) {\n  // Unnamed global\n  if (isObject(name)) {\n    mixin(`__${mixins_id++}__`, name, true)\n    return\n  }\n\n  const store = g ? globals : mixins\n\n  // Getter\n  if (!mix) {\n    if (isUndefined(store[name]))\n      throw new Error(`Unregistered mixin: ${ name }`)\n\n    return store[name]\n  }\n\n  // Setter\n  store[name] = isFunction(mix) ?\n    extend(mix.prototype, store[name] || {}) && mix :\n    extend(store[name] || {}, mix)\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nexport function update() {\n  return each(__TAGS_CACHE, tag => tag.update())\n}\n\nexport function unregister(name) {\n  __TAG_IMPL[name] = null\n}\n\nexport const version = 'WIP'\n","import observable from 'riot-observable'\nimport { parseExpressions, parseAttributes } from './parse'\nimport RefExpr from './ref'\nimport update from './update'\nimport mkdom from './mkdom'\nimport { mixin } from './core'\nimport settings from '../../settings'\nimport { setAttr, remAttr, walkAttrs, setInnerHTML, isSvg } from './../common/util/dom'\n\nimport {\n  isFunction,\n  isString\n} from './../common/util/check'\n\nimport {\n  extend,\n  each,\n  startsWith,\n  toCamel,\n  contains,\n  defineProperty\n} from './../common/util/misc'\n\nimport {\n  unmountAll,\n  arrayishRemove,\n  inheritFrom,\n  getTagName,\n  getImmediateCustomParentTag\n} from './../common/util/tags'\n\nimport {\n  RIOT_EVENTS_KEY,\n  GLOBAL_MIXIN,\n  __TAGS_CACHE,\n  ATTRS_PREFIX\n} from './../common/global-variables'\n\n// counter to give a unique id to all the Tag instances\nlet uid = 0\n\n/**\n * We need to update opts for this tag. That requires updating the expressions\n * in any attributes on the tag, and then copying the result onto opts.\n * @this Tag\n * @param   {Boolean} isLoop - is it a loop tag?\n * @param   { Tag }  parent - parent tag node\n * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n * @param   { Object }  opts - tag options\n * @param   { Array }  instAttrs - tag attributes array\n */\nfunction updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n  // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n  // (and only this case) we don't need to do updateOpts, because the regular parse\n  // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n  if (isLoop && isAnonymous) return\n  const ctx = !isAnonymous && isLoop ? this : parent || this\n\n  each(instAttrs, (attr) => {\n    if (attr.expr) update.call(ctx, [attr.expr])\n    // normalize the attribute names\n    opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value\n  })\n}\n\n/**\n * Manage the mount state of a tag triggering also the observable events\n * @this Tag\n * @param { Boolean } value - ..of the isMounted flag\n */\nfunction setMountState(value) {\n  const { isAnonymous } = this.__\n\n  defineProperty(this, 'isMounted', value)\n\n  if (!isAnonymous) {\n    if (value) this.trigger('mount')\n    else {\n      this.trigger('unmount')\n      this.off('*')\n      this.__.wasCreated = false\n    }\n  }\n}\n\n\n/**\n * Tag class\n * @constructor\n * @param { Object } impl - it contains the tag template, and logic\n * @param { Object } conf - tag options\n * @param { String } innerHTML - html that eventually we need to inject in the tag\n */\nexport default function Tag(impl = {}, conf = {}, innerHTML) {\n  var opts = extend({}, conf.opts),\n    parent = conf.parent,\n    isLoop = conf.isLoop,\n    isAnonymous = !!conf.isAnonymous,\n    skipAnonymous = settings.skipAnonymousTags && isAnonymous,\n    item = conf.item,\n    index = conf.index, // available only for the looped nodes\n    instAttrs = [], // All attributes on the Tag when it's first parsed\n    implAttrs = [], // expressions on this type of Tag\n    expressions = [],\n    root = conf.root,\n    tagName = conf.tagName || getTagName(root),\n    isVirtual = tagName === 'virtual',\n    isInline = !isVirtual && !impl.tmpl,\n    propsInSyncWithParent = [],\n    dom\n\n  // make this tag observable\n  if (!skipAnonymous) observable(this)\n  // only call unmount if we have a valid __TAG_IMPL (has name property)\n  if (impl.name && root._tag) root._tag.unmount(true)\n\n  // not yet mounted\n  defineProperty(this, 'isMounted', false)\n\n  defineProperty(this, '__', {\n    isAnonymous,\n    instAttrs,\n    innerHTML,\n    tagName,\n    index,\n    isLoop,\n    isInline,\n    // tags having event listeners\n    // it would be better to use weak maps here but we can not introduce breaking changes now\n    listeners: [],\n    // these vars will be needed only for the virtual tags\n    virts: [],\n    wasCreated: false,\n    tail: null,\n    head: null,\n    parent: null,\n    item: null\n  })\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(this, '_riot_id', ++uid) // base 1 allows test !t._riot_id\n  defineProperty(this, 'root', root)\n  extend(this, { opts }, item)\n  // protect the \"tags\" and \"refs\" property from being overridden\n  defineProperty(this, 'parent', parent || null)\n  defineProperty(this, 'tags', {})\n  defineProperty(this, 'refs', {})\n\n  if (isInline || isLoop && isAnonymous) {\n    dom = root\n  } else {\n    if (!isVirtual) root.innerHTML = ''\n    dom = mkdom(impl.tmpl, innerHTML, isSvg(root))\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'update', function tagUpdate(data) {\n    const nextOpts = {},\n      canTrigger = this.isMounted && !skipAnonymous\n\n    extend(this, data)\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, nextOpts, instAttrs])\n\n    if (\n      canTrigger &&\n      this.isMounted &&\n      isFunction(this.shouldUpdate) && !this.shouldUpdate(data, nextOpts)\n    ) {\n      return this\n    }\n\n    // inherit properties from the parent, but only for isAnonymous tags\n    if (isLoop && isAnonymous) inheritFrom.apply(this, [this.parent, propsInSyncWithParent])\n    extend(opts, nextOpts)\n    if (canTrigger) this.trigger('update', data)\n    update.call(this, expressions)\n    if (canTrigger) this.trigger('updated')\n\n    return this\n\n  }.bind(this))\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mixin', function tagMixin() {\n    each(arguments, (mix) => {\n      let instance, obj\n      let props = []\n\n      // properties blacklisted and will not be bound to the tag instance\n      const propsBlacklist = ['init', '__proto__']\n\n      mix = isString(mix) ? mixin(mix) : mix\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix()\n      } else instance = mix\n\n      const proto = Object.getPrototypeOf(instance)\n\n      // build multilevel prototype inheritance chain property list\n      do props = props.concat(Object.getOwnPropertyNames(obj || instance))\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, (key) => {\n        // bind methods to this\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          const descriptor = Object.getOwnPropertyDescriptor(instance, key) || Object.getOwnPropertyDescriptor(proto, key)\n          const hasGetterSetter = descriptor && (descriptor.get || descriptor.set)\n\n          // apply method only if it does not already exist on the instance\n          if (!this.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(this, key, descriptor)\n          } else {\n            this[key] = isFunction(instance[key]) ?\n              instance[key].bind(this) :\n              instance[key]\n          }\n        }\n      })\n\n      // init method will be called automatically\n      if (instance.init)\n        instance.init.bind(this)(opts)\n    })\n    return this\n  }.bind(this))\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mount', function tagMount() {\n    root._tag = this // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(parent, [root, root.attributes, (attr, expr) => {\n      if (!isAnonymous && RefExpr.isPrototypeOf(expr)) expr.tag = this\n      attr.expr = expr\n      instAttrs.push(attr)\n    }])\n\n    // update the root adding custom attributes coming from the compiler\n    implAttrs = []\n    walkAttrs(impl.attrs, (k, v) => { implAttrs.push({name: k, value: v}) })\n    parseAttributes.apply(this, [root, implAttrs, (attr, expr) => {\n      if (expr) expressions.push(expr)\n      else setAttr(root, attr.name, attr.value)\n    }])\n\n    // initialiation\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, opts, instAttrs])\n\n    // add global mixins\n    const globalMixin = mixin(GLOBAL_MIXIN)\n\n    if (globalMixin && !skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          this.mixin(globalMixin[i])\n        }\n      }\n    }\n\n    if (impl.fn) impl.fn.call(this, opts)\n\n    if (!skipAnonymous) this.trigger('before-mount')\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions.apply(this, [dom, expressions, isAnonymous])\n\n    this.update(item)\n\n    if (!isAnonymous && !isInline) {\n      while (dom.firstChild) root.appendChild(dom.firstChild)\n    }\n\n    defineProperty(this, 'root', root)\n\n    // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    if (!skipAnonymous && this.parent) {\n      const p = getImmediateCustomParentTag(this.parent)\n      p.one(!p.isMounted ? 'mount' : 'updated', () => {\n        setMountState.call(this, true)\n      })\n    } else {\n      // otherwise it's not a child tag we can trigger its mount event\n      setMountState.call(this, true)\n    }\n\n    this.__.wasCreated = true\n\n    return this\n\n  }.bind(this))\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'unmount', function tagUnmount(mustKeepRoot) {\n    const el = this.root\n    const p = el.parentNode\n    const tagIndex = __TAGS_CACHE.indexOf(this)\n    let ptag\n\n    if (!skipAnonymous) this.trigger('before-unmount')\n\n    // clear all attributes coming from the mounted tag\n    walkAttrs(impl.attrs, (name) => {\n      if (startsWith(name, ATTRS_PREFIX))\n        name = name.slice(ATTRS_PREFIX.length)\n\n      remAttr(root, name)\n    })\n\n    // remove all the event listeners\n    this.__.listeners.forEach((dom) => {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach((eventName) => {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName])\n      })\n    })\n\n    // remove this tag instance from the global virtualDom variable\n    if (tagIndex !== -1)\n      __TAGS_CACHE.splice(tagIndex, 1)\n\n    if (p || isVirtual) {\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent)\n\n        if (isVirtual) {\n          Object.keys(this.tags).forEach(tagName => {\n            arrayishRemove(ptag.tags, tagName, this.tags[tagName])\n          })\n        } else {\n          arrayishRemove(ptag.tags, tagName, this)\n          // remove from _parent too\n          if(parent !== ptag) {\n            arrayishRemove(parent.tags, tagName, this)\n          }\n        }\n      } else {\n        // remove the tag contents\n        setInnerHTML(el, '')\n      }\n\n      if (p && !mustKeepRoot) p.removeChild(el)\n    }\n\n    if (this.__.virts) {\n      each(this.__.virts, (v) => {\n        if (v.parentNode) v.parentNode.removeChild(v)\n      })\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions)\n    each(instAttrs, a => a.expr && a.expr.unmount && a.expr.unmount())\n\n    // custom internal unmount function to avoid relying on the observable\n    if (this.__.onUnmount) this.__.onUnmount()\n\n    // weird fix for a weird edge case #2409 and #2436\n    // some users might use your software not as you've expected\n    // so I need to add these dirty hacks to mitigate unexpected issues\n    if (!this.isMounted) setMountState.call(this, true)\n\n    setMountState.call(this, false)\n\n    delete this.root._tag\n\n    return this\n\n  }.bind(this))\n}\n","import Tag from './../../tag/tag'\nimport { getAttr, createDOMPlaceholder, createFrag } from './dom'\nimport { contains, each, defineProperty, extend } from './misc'\nimport { isArray, isUndefined } from './check'\nimport { tmpl } from 'riot-tmpl'\n\nimport {\n  __TAG_IMPL,\n  __TAGS_CACHE,\n  IS_DIRECTIVE\n} from './../global-variables'\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nexport function getTag(dom) {\n  return dom.tagName && __TAG_IMPL[getAttr(dom, IS_DIRECTIVE) ||\n    getAttr(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n}\n\n/**\n * Inherit properties from a target tag instance\n * @this Tag\n * @param   { Tag } target - tag where we will inherit properties\n * @param   { Array } propsInSyncWithParent - array of properties to sync with the target\n */\nexport function inheritFrom(target, propsInSyncWithParent) {\n  each(Object.keys(target), (k) => {\n    // some properties must be always in sync with the parent tag\n    const mustSync = contains(propsInSyncWithParent, k)\n\n    if (isUndefined(this[k]) || mustSync) {\n      // track the property to keep in sync\n      // so we can keep it updated\n      if (!mustSync) propsInSyncWithParent.push(k)\n      this[k] = target[k]\n    }\n  })\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @this Tag\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nexport function moveChildTag(tagName, newPos) {\n  const parent = this.parent\n  let tags\n  // no parent no move\n  if (!parent) return\n\n  tags = parent.tags[tagName]\n\n  if (isArray(tags))\n    tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0])\n  else arrayishAdd(parent.tags, tagName, this)\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nexport function initChildTag(child, opts, innerHTML, parent) {\n  const tag = new Tag(child, opts, innerHTML)\n  const tagName = opts.tagName || getTagName(opts.root, true)\n  const ptag = getImmediateCustomParentTag(parent)\n  // fix for the parent attribute in the looped elements\n  defineProperty(tag, 'parent', ptag)\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag.__.parent = parent\n\n  // add this tag to the custom parent tag\n  arrayishAdd(ptag.tags, tagName, tag)\n\n  // and also to the real parent tag\n  if (ptag !== parent)\n    arrayishAdd(parent.tags, tagName, tag)\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nexport function getImmediateCustomParentTag(tag) {\n  let ptag = tag\n  while (ptag.__.isAnonymous) {\n    if (!ptag.parent) break\n    ptag = ptag.parent\n  }\n  return ptag\n}\n\n/**\n * Trigger the unmount method on all the expressions\n * @param   { Array } expressions - DOM expressions\n */\nexport function unmountAll(expressions) {\n  each(expressions, expr => {\n    if (expr instanceof Tag) expr.unmount(true)\n    else if (expr.tagName) expr.tag.unmount(true)\n    else if (expr.unmount) expr.unmount()\n  })\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n * @returns { String } name to identify this dom node in riot\n */\nexport function getTagName(dom, skipDataIs) {\n  const child = getTag(dom)\n  const namedTag = !skipDataIs && getAttr(dom, IS_DIRECTIVE)\n  return namedTag && !tmpl.hasExpr(namedTag) ?\n    namedTag : child ? child.name : dom.tagName.toLowerCase()\n}\n\n/**\n * Set the property of an object for a given key. If something already\n * exists there, then it becomes an array containing both the old and new value.\n * @param { Object } obj - object on which to set the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be set\n * @param { Boolean } ensureArray - ensure that the property remains an array\n * @param { Number } index - add the new item in a certain array position\n */\nexport function arrayishAdd(obj, key, value, ensureArray, index) {\n  const dest = obj[key]\n  const isArr = isArray(dest)\n  const hasIndex = !isUndefined(index)\n\n  if (dest && dest === value) return\n\n  // if the key was never set, set it once\n  if (!dest && ensureArray) obj[key] = [value]\n  else if (!dest) obj[key] = value\n  // if it was an array and not yet set\n  else {\n    if (isArr) {\n      const oldIndex = dest.indexOf(value)\n      // this item never changed its position\n      if (oldIndex === index) return\n      // remove the item from its old position\n      if (oldIndex !== -1) dest.splice(oldIndex, 1)\n      // move or add the item\n      if (hasIndex) {\n        dest.splice(index, 0, value)\n      } else {\n        dest.push(value)\n      }\n    } else obj[key] = [dest, value]\n  }\n}\n\n/**\n * Removes an item from an object at a given key. If the key points to an array,\n * then the item is just removed from the array.\n * @param { Object } obj - object on which to remove the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be removed\n * @param { Boolean } ensureArray - ensure that the property remains an array\n*/\nexport function arrayishRemove(obj, key, value, ensureArray) {\n  if (isArray(obj[key])) {\n    let index = obj[key].indexOf(value)\n    if (index !== -1) obj[key].splice(index, 1)\n    if (!obj[key].length) delete obj[key]\n    else if (obj[key].length === 1 && !ensureArray) obj[key] = obj[key][0]\n  } else\n    delete obj[key] // otherwise just delete the key\n}\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n * @returns { Tag } a new Tag instance\n */\nexport function mountTo(root, tagName, opts, ctx) {\n  const impl = __TAG_IMPL[tagName]\n  const implClass = __TAG_IMPL[tagName].class\n  const tag = ctx || (implClass ? Object.create(implClass.prototype) : {})\n  // cache the inner HTML to fix #855\n  const innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n  const conf = extend({ root, opts }, { parent: opts ? opts.parent : null })\n\n  if (impl && root) Tag.apply(tag, [impl, conf, innerHTML])\n\n  if (tag && tag.mount) {\n    tag.mount(true)\n    // add this tag to the virtualDom variable\n    if (!contains(__TAGS_CACHE, tag)) __TAGS_CACHE.push(tag)\n  }\n\n  return tag\n}\n\n/**\n * makes a tag virtual and replaces a reference in the dom\n * @this Tag\n * @param { tag } the tag to make virtual\n * @param { ref } the dom reference location\n */\nexport function makeReplaceVirtual(tag, ref) {\n  const frag = createFrag()\n  makeVirtual.call(tag, frag)\n  ref.parentNode.replaceChild(frag, ref)\n}\n\n/**\n * Adds the elements for a virtual tag\n * @this Tag\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nexport function makeVirtual(src, target) {\n  const head = createDOMPlaceholder()\n  const tail = createDOMPlaceholder()\n  const frag = createFrag()\n  let sib\n  let el\n\n  this.root.insertBefore(head, this.root.firstChild)\n  this.root.appendChild(tail)\n\n  this.__.head = el = head\n  this.__.tail = tail\n\n  while (el) {\n    sib = el.nextSibling\n    frag.appendChild(el)\n    this.__.virts.push(el) // hold for unmounting\n    el = sib\n  }\n\n  if (target)\n    src.insertBefore(frag, target.__.head)\n  else\n    src.appendChild(frag)\n}\n\n/**\n * Move virtual tag and all child nodes\n * @this Tag\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n */\nexport function moveVirtual(src, target) {\n  let el = this.__.head, sib\n  const frag = createFrag()\n\n  while (el) {\n    sib = el.nextSibling\n    frag.appendChild(el)\n    el = sib\n    if (el === this.__.tail) {\n      frag.appendChild(el)\n      src.insertBefore(frag, target.__.head)\n      break\n    }\n  }\n}\n\n/**\n * Get selectors for tags\n * @param   { Array } tags - tag names to select\n * @returns { String } selector\n */\nexport function selectTags(tags) {\n  // select all tags\n  if (!tags) {\n    const keys = Object.keys(__TAG_IMPL)\n    return keys + selectTags(keys)\n  }\n\n  return tags\n    .filter(t => !/[^-\\w]/.test(t))\n    .reduce((list, t) => {\n      const name = t.trim().toLowerCase()\n      return list + `,[${IS_DIRECTIVE}=\"${name}\"]`\n    }, '')\n}\n","export\nconst\n  // be aware, internal usage\n  // ATTENTION: prefix the global dynamic variables with `__`\n  // tags instances cache\n  __TAGS_CACHE = [],\n  // tags implementation cache\n  __TAG_IMPL = {},\n  YIELD_TAG = 'yield',\n\n  /**\n   * Const\n   */\n  GLOBAL_MIXIN = '__global_mixin',\n\n  // riot specific prefixes or attributes\n  ATTRS_PREFIX = 'riot-',\n\n  // Riot Directives\n  REF_DIRECTIVES = ['ref', 'data-ref'],\n  IS_DIRECTIVE = 'data-is',\n  CONDITIONAL_DIRECTIVE = 'if',\n  LOOP_DIRECTIVE = 'each',\n  LOOP_NO_REORDER_DIRECTIVE = 'no-reorder',\n  SHOW_DIRECTIVE = 'show',\n  HIDE_DIRECTIVE = 'hide',\n  KEY_DIRECTIVE = 'key',\n  RIOT_EVENTS_KEY = '__riot-events__',\n\n  // for typeof == '' comparisons\n  T_STRING = 'string',\n  T_OBJECT = 'object',\n  T_UNDEF  = 'undefined',\n  T_FUNCTION = 'function',\n\n  XLINK_NS = 'http://www.w3.org/1999/xlink',\n  SVG_NS = 'http://www.w3.org/2000/svg',\n  XLINK_REGEX = /^xlink:(\\w+)/,\n\n  WIN = typeof window === T_UNDEF ? undefined : window,\n\n  // special native tags that cannot be treated like the others\n  RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n  RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,\n  RE_EVENTS_PREFIX = /^on/,\n  RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g,\n  // some DOM attributes must be normalized\n  CASE_SENSITIVE_ATTRIBUTES = { 'viewbox': 'viewBox' },\n  /**\n   * Matches boolean HTML attributes in the riot tag definition.\n   * With a long list like this, a regex is faster than `[].indexOf` in most browsers.\n   * @const {RegExp}\n   * @see [attributes.md](https://github.com/riot/compiler/blob/dev/doc/attributes.md)\n   */\n  RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,\n  // version# for IE 8-11, 0 for others\n  IE_VERSION = (WIN && WIN.document || {}).documentMode | 0\n","import { $, mkEl, setAttr } from './../common/util/dom'\nimport { WIN } from './../common/global-variables'\n\nlet styleNode\n// Create cache and shortcut to the correct property\nlet\n  cssTextProp,\n  byName = {},\n  remainder = [],\n  needsInject = false\n\n// skip the following code on the server\nif (WIN) {\n  styleNode = ((() => {\n    // create a new style element with the correct type\n    const newNode = mkEl('style')\n    setAttr(newNode, 'type', 'text/css')\n\n    // replace any user node or insert the new one into the head\n    const userNode = $('style[type=riot]')\n    /* istanbul ignore next */\n    if (userNode) {\n      if (userNode.id) newNode.id = userNode.id\n      userNode.parentNode.replaceChild(newNode, userNode)\n    }\n    else document.getElementsByTagName('head')[0].appendChild(newNode)\n\n    return newNode\n  }))()\n  cssTextProp = styleNode.styleSheet\n}\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nexport default {\n  styleNode,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { String } css - css string\n   * @param { String } name - if it's passed we will map the css to a tagname\n   */\n  add(css, name) {\n    if (name) byName[name] = css\n    else remainder.push(css)\n    needsInject = true\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   */\n  inject() {\n    if (!WIN || !needsInject) return\n    needsInject = false\n    const style = Object.keys(byName)\n      .map(k => byName[k])\n      .concat(remainder).join('\\n')\n    /* istanbul ignore next */\n    if (cssTextProp) cssTextProp.cssText = style\n    else styleNode.innerHTML = style\n  }\n}\n","\n/**\n * The riot template engine\n * @version v3.0.8\n */\n\nvar skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n  var beforeReChars = '[{(,;:?=|&!^~>%*/'\n\n  var beforeReWords = [\n    'case',\n    'default',\n    'do',\n    'else',\n    'in',\n    'instanceof',\n    'prefix',\n    'return',\n    'typeof',\n    'void',\n    'yield'\n  ]\n\n  var wordsLastChar = beforeReWords.reduce(function (s, w) {\n    return s + w.slice(-1)\n  }, '')\n\n  var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/\n  var RE_VN_CHAR = /[$\\w]/\n\n  function prev (code, pos) {\n    while (--pos >= 0 && /\\s/.test(code[pos]));\n    return pos\n  }\n\n  function _skipRegex (code, start) {\n\n    var re = /.*/g\n    var pos = re.lastIndex = start++\n    var match = re.exec(code)[0].match(RE_REGEX)\n\n    if (match) {\n      var next = pos + match[0].length\n\n      pos = prev(code, pos)\n      var c = code[pos]\n\n      if (pos < 0 || ~beforeReChars.indexOf(c)) {\n        return next\n      }\n\n      if (c === '.') {\n\n        if (code[pos - 1] === '.') {\n          start = next\n        }\n\n      } else if (c === '+' || c === '-') {\n\n        if (code[--pos] !== c ||\n            (pos = prev(code, pos)) < 0 ||\n            !RE_VN_CHAR.test(code[pos])) {\n          start = next\n        }\n\n      } else if (~wordsLastChar.indexOf(c)) {\n\n        var end = pos + 1\n\n        while (--pos >= 0 && RE_VN_CHAR.test(code[pos]));\n        if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n          start = next\n        }\n      }\n    }\n\n    return start\n  }\n\n  return _skipRegex\n\n})()\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\n/* global riot */\n\nexport\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n    },\n\n    DEFAULT = '{ }'\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ]\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) bp = _cache\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) return _pairs\n\n    var arr = pair.split(' ')\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '))\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr)\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr)\n    arr[6] = _rewrite(_pairs[6], arr)\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB)\n    arr[8] = pair\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) _bp = _cache\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6]\n\n    var qblocks = []\n    var prevStr = ''\n    var mark, lastIndex\n\n    isexpr = start = re.lastIndex = 0\n\n    while ((match = re.exec(str))) {\n\n      lastIndex = re.lastIndex\n      pos = match.index\n\n      if (isexpr) {\n\n        if (match[2]) {\n\n          var ch = match[2]\n          var rech = FINDBRACES[ch]\n          var ix = 1\n\n          rech.lastIndex = lastIndex\n          while ((match = rech.exec(str))) {\n            if (match[1]) {\n              if (match[1] === ch) ++ix\n              else if (!--ix) break\n            } else {\n              rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2])\n            }\n          }\n          re.lastIndex = ix ? str.length : rech.lastIndex\n          continue\n        }\n\n        if (!match[3]) {\n          re.lastIndex = pushQBlock(pos, lastIndex, match[4])\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos))\n        start = re.lastIndex\n        re = _bp[6 + (isexpr ^= 1)]\n        re.lastIndex = start\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start))\n    }\n\n    parts.qblocks = qblocks\n\n    return parts\n\n    function unescapeStr (s) {\n      if (prevStr) {\n        s = prevStr + s\n        prevStr = ''\n      }\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'))\n      } else {\n        parts.push(s)\n      }\n    }\n\n    function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n      if (slash) {\n        _lastIndex = skipRegex(str, _pos)\n      }\n\n      if (tmpl && _lastIndex > _pos + 2) {\n        mark = '\\u2057' + qblocks.length + '~'\n        qblocks.push(str.slice(_pos, _lastIndex))\n        prevStr += str.slice(start, _pos) + mark\n        start = _lastIndex\n      }\n      return _lastIndex\n    }\n  }\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  }\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9])\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  }\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  }\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair)\n      _regex = pair === DEFAULT ? _loopback : _rewrite\n      _cache[9] = _regex(_pairs[9])\n    }\n    cachedBrackets = pair\n  }\n\n  function _setSettings (o) {\n    var b\n\n    o = o || {}\n    b = o.brackets\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    })\n    _settings = o\n    _reset(b)\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  })\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {}\n  _brackets.set = _reset\n  _brackets.skipRegex = skipRegex\n\n  _brackets.R_STRINGS = R_STRINGS\n  _brackets.R_MLCOMMS = R_MLCOMMS\n  _brackets.S_QBLOCKS = S_QBLOCKS\n  _brackets.S_QBLOCK2 = S_QBLOCK2\n\n  return _brackets\n\n})()\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\nexport\nvar tmpl = (function () {\n\n  var _cache = {}\n\n  function _tmpl (str, data) {\n    if (!str) return str\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(\n      data, _logErr.bind({\n        data: data,\n        tmpl: str\n      })\n    )\n  }\n\n  _tmpl.hasExpr = brackets.hasExpr\n\n  _tmpl.loopKeys = brackets.loopKeys\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {} }\n\n  _tmpl.errorHandler = null\n\n  function _logErr (err, ctx) {\n\n    err.riotData = {\n      tagName: ctx && ctx.__ && ctx.__.tagName,\n      _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n    }\n\n    if (_tmpl.errorHandler) _tmpl.errorHandler(err)\n    else if (\n      typeof console !== 'undefined' &&\n      typeof console.error === 'function'\n    ) {\n      console.error(err.message)\n      console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl) // eslint-disable-line\n      console.log(this.data) // eslint-disable-line\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str)\n\n    if (expr.slice(0, 11) !== 'try{return ') expr = 'return ' + expr\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var RE_DQUOTE = /\\u2057/g\n  var RE_QBMARK = /\\u2057(\\d+)~/g\n\n  function _getTmpl (str) {\n    var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1)\n    var qstr = parts.qblocks\n    var expr\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = []\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i]\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) list[j++] = expr\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")'\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr)\n    }\n\n    if (qstr.length) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      })\n    }\n    return expr\n  }\n\n  var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    }\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n      .replace(/\\s+/g, ' ').trim()\n      .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1')\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g\n\n        expr = RegExp.rightContext\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1]\n\n        while (jsb = (match = re.exec(expr))[1]) skipBraces(jsb, re)\n\n        jsb  = expr.slice(0, match.index)\n        expr = RegExp.rightContext\n\n        list[cnt++] = _wrapExpr(jsb, 1, key)\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0]\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch]\n\n      ir.lastIndex = re.lastIndex\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) ++lv\n        else if (!--lv) break\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/\n\n  function _wrapExpr (expr, asText, key) {\n    var tb\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar\n          if (pos) tb = (s = s[pos]) === '.' || s === '(' || s === '['\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos))\n        }\n      }\n      return match\n    })\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}'\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"'\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)'\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v3.0.8'\n\n  return _tmpl\n\n})()\n\n","var observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          (callbacks[event] = callbacks[event] || []).push(fn)\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) callbacks = {}\n        else {\n          if (fn) {\n            var arr = callbacks[event]\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) arr.splice(i--, 1)\n            }\n          } else delete callbacks[event]\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0)\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args)\n        }\n\n        if (callbacks['*'] && event != '*')\n          el.trigger.apply(el, ['*', event].concat(args))\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\nexport default observable\n","import { extend }from './browser/common/util/misc'\nimport { brackets } from 'riot-tmpl'\n\nexport default extend(Object.create(brackets.settings), {\n  skipAnonymousTags: true,\n  // handle the auto updates on any DOM event\n  autoUpdate: true\n})","import { remAttr, createDOMPlaceholder } from './../common/util/dom'\nimport { tmpl } from 'riot-tmpl'\nimport { unmountAll } from './../common/util/tags'\nimport { CONDITIONAL_DIRECTIVE } from './../common/global-variables'\nimport { parseExpressions } from './parse'\nimport updateAllExpressions from './update'\n\nexport default {\n  init(dom, tag, expr) {\n    remAttr(dom, CONDITIONAL_DIRECTIVE)\n    this.tag = tag\n    this.expr = expr\n    this.stub = createDOMPlaceholder()\n    this.pristine = dom\n\n    const p = dom.parentNode\n    p.insertBefore(this.stub, dom)\n    p.removeChild(dom)\n\n    return this\n  },\n  update() {\n    this.value = tmpl(this.expr, this.tag)\n\n    if (this.value && !this.current) { // insert\n      this.current = this.pristine.cloneNode(true)\n      this.stub.parentNode.insertBefore(this.current, this.stub)\n      this.expressions = []\n      parseExpressions.apply(this.tag, [this.current, this.expressions, true])\n    } else if (!this.value && this.current) { // remove\n      unmountAll(this.expressions)\n      if (this.current._tag) {\n        this.current._tag.unmount()\n      } else if (this.current.parentNode) {\n        this.current.parentNode.removeChild(this.current)\n      }\n      this.current = null\n      this.expressions = []\n    }\n\n    if (this.value) updateAllExpressions.call(this.tag, this.expressions)\n  },\n  unmount() {\n    unmountAll(this.expressions || [])\n  }\n}","import { tmpl } from 'riot-tmpl'\nimport { isBlank, isString } from './../common/util/check'\nimport { remAttr, setAttr } from './../common/util/dom'\n\nimport {\n  getImmediateCustomParentTag,\n  arrayishAdd,\n  arrayishRemove\n} from './../common/util/tags'\n\nexport default {\n  init(dom, parent, attrName, attrValue) {\n    this.dom = dom\n    this.attr = attrName\n    this.rawValue = attrValue\n    this.parent = parent\n    this.hasExp = tmpl.hasExpr(attrValue)\n    return this\n  },\n  update() {\n    const old = this.value\n    const customParent = this.parent && getImmediateCustomParentTag(this.parent)\n    // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n    const tagOrDom = this.dom.__ref || this.tag || this.dom\n\n    this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue\n\n    // the name changed, so we need to remove it from the old key (if present)\n    if (!isBlank(old) && customParent) arrayishRemove(customParent.refs, old, tagOrDom)\n    if (!isBlank(this.value) && isString(this.value)) {\n      // add it to the refs of parent tag (this behavior was changed >=3.0)\n      if (customParent) arrayishAdd(\n        customParent.refs,\n        this.value,\n        tagOrDom,\n        // use an array if it's a looped node and the ref is not an expression\n        null,\n        this.parent.__.index\n      )\n\n      if (this.value !== old) {\n        setAttr(this.dom, this.attr, this.value)\n      }\n    } else {\n      remAttr(this.dom, this.attr)\n    }\n\n    // cache the ref bound to this dom node\n    // to reuse it in future (see also #2329)\n    if (!this.dom.__ref) this.dom.__ref = tagOrDom\n  },\n  unmount() {\n    const tagOrDom = this.tag || this.dom\n    const customParent = this.parent && getImmediateCustomParentTag(this.parent)\n    if (!isBlank(this.value) && customParent)\n      arrayishRemove(customParent.refs, this.value, tagOrDom)\n  }\n}","import styleManager from './browser/tag/styleManager'\nimport { tmpl, brackets } from 'riot-tmpl'\nimport o from 'riot-observable'\nimport s from './settings'\nimport { __TAGS_CACHE as vdom } from './browser/common/global-variables'\nimport * as dom from './browser/common/util/dom'\nimport * as check from './browser/common/util/check'\nimport * as misc from './browser/common/util/misc'\nimport * as tags from './browser/common/util/tags'\nimport * as core from './browser/tag/core'\n\n/**\n * Riot public api\n */\nexport const settings = s\nexport const util = {\n  tmpl,\n  brackets,\n  styleManager,\n  vdom,\n  styleNode: styleManager.styleNode,\n  // export the riot internal utils as well\n  dom,\n  check,\n  misc,\n  tags\n}\n\n// export the core props/methods\nexport const Tag = core.Tag\nexport const tag = core.tag\nexport const tag2 = core.tag2\nexport const mount = core.mount\nexport const mixin = core.mixin\nexport const update = core.update\nexport const unregister = core.unregister\nexport const version = core.version\nexport const observable = o\n\nexport default misc.extend({}, core, {\n  observable: o,\n  settings,\n  util,\n})\n","/*\n 2017 Julian Garnier\n Released under the MIT license\n*/\nvar $jscomp$this=this;\n(function(w,p){\"function\"===typeof define&&define.amd?define([],p):\"object\"===typeof module&&module.exports?module.exports=p():w.anime=p()})(this,function(){function w(a){if(!g.col(a))try{return document.querySelectorAll(a)}catch(c){}}function p(a){return a.reduce(function(a,d){return a.concat(g.arr(d)?p(d):d)},[])}function x(a){if(g.arr(a))return a;g.str(a)&&(a=w(a)||a);return a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a]}function H(a,c){return a.some(function(a){return a===c})}\nfunction B(a){var c={},d;for(d in a)c[d]=a[d];return c}function C(a,c){var d=B(a),b;for(b in a)d[b]=c.hasOwnProperty(b)?c[b]:a[b];return d}function y(a,c){var d=B(a),b;for(b in c)d[b]=g.und(a[b])?c[b]:a[b];return d}function W(a){a=a.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,function(a,c,d,h){return c+c+d+d+h+h});var c=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(a);a=parseInt(c[1],16);var d=parseInt(c[2],16),c=parseInt(c[3],16);return\"rgb(\"+a+\",\"+d+\",\"+c+\")\"}function X(a){function c(a,c,b){0>\nb&&(b+=1);1<b&&--b;return b<1/6?a+6*(c-a)*b:.5>b?c:b<2/3?a+(c-a)*(2/3-b)*6:a}var d=/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(a);a=parseInt(d[1])/360;var b=parseInt(d[2])/100,d=parseInt(d[3])/100;if(0==b)b=d=a=d;else{var e=.5>d?d*(1+b):d+b-d*b,k=2*d-e,b=c(k,e,a+1/3),d=c(k,e,a);a=c(k,e,a-1/3)}return\"rgb(\"+255*b+\",\"+255*d+\",\"+255*a+\")\"}function v(a){if(a=/([\\+\\-]?[0-9#\\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(a))return a[2]}function Y(a){if(-1<a.indexOf(\"translate\")||\n\"perspective\"===a)return\"px\";if(-1<a.indexOf(\"rotate\")||-1<a.indexOf(\"skew\"))return\"deg\"}function I(a,c){return g.fnc(a)?a(c.target,c.id,c.total):a}function D(a,c){if(c in a.style)return getComputedStyle(a).getPropertyValue(c.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase())||\"0\"}function J(a,c){if(g.dom(a)&&H(Z,c))return\"transform\";if(g.dom(a)&&(a.getAttribute(c)||g.svg(a)&&a[c]))return\"attribute\";if(g.dom(a)&&\"transform\"!==c&&D(a,c))return\"css\";if(null!=a[c])return\"object\"}function aa(a,c){var d=\nY(c),d=-1<c.indexOf(\"scale\")?1:0+d;a=a.style.transform;if(!a)return d;for(var b=[],e=[],k=[],h=/(\\w+)\\((.+?)\\)/g;b=h.exec(a);)e.push(b[1]),k.push(b[2]);a=k.filter(function(a,b){return e[b]===c});return a.length?a[0]:d}function K(a,c){switch(J(a,c)){case \"transform\":return aa(a,c);case \"css\":return D(a,c);case \"attribute\":return a.getAttribute(c)}return a[c]||0}function L(a,c){var d=/^(\\*=|\\+=|-=)/.exec(a);if(!d)return a;var b=v(a)||0;c=parseFloat(c);a=parseFloat(a.replace(d[0],\"\"));switch(d[0][0]){case \"+\":return c+\na+b;case \"-\":return c-a+b;case \"*\":return c*a+b}}function E(a,c){return Math.sqrt(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2))}function M(a){a=a.points;for(var c=0,d,b=0;b<a.numberOfItems;b++){var e=a.getItem(b);0<b&&(c+=E(d,e));d=e}return c}function N(a){if(a.getTotalLength)return a.getTotalLength();switch(a.tagName.toLowerCase()){case \"circle\":return 2*Math.PI*a.getAttribute(\"r\");case \"rect\":return 2*a.getAttribute(\"width\")+2*a.getAttribute(\"height\");case \"line\":return E({x:a.getAttribute(\"x1\"),y:a.getAttribute(\"y1\")},\n{x:a.getAttribute(\"x2\"),y:a.getAttribute(\"y2\")});case \"polyline\":return M(a);case \"polygon\":var c=a.points;return M(a)+E(c.getItem(c.numberOfItems-1),c.getItem(0))}}function F(a){return g.obj(a)&&a.hasOwnProperty(\"totalLength\")}function ba(a,c){function d(b){b=void 0===b?0:b;return a.el.getPointAtLength(1<=c+b?c+b:0)}var b=d(),e=d(-1),k=d(1);switch(a.property){case \"x\":return b.x;case \"y\":return b.y;case \"angle\":return 180*Math.atan2(k.y-e.y,k.x-e.x)/Math.PI}}function O(a,c){var d=/-?\\d*\\.?\\d+/g,\nb;b=F(a)?a.totalLength:a;if(g.col(b))b=g.rgb(b)?b:g.hex(b)?W(b):g.hsl(b)?X(b):void 0;else{var e=v(b),e=e?b.substr(0,b.length-e.length):b;b=c&&!/\\s/g.test(b)?e+c:e}b+=\"\";return{original:b,numbers:b.match(d)?b.match(d).map(Number):[0],strings:g.str(a)||c?b.split(d):[]}}function ca(a,c){return 0===c.length?a[0]:c.reduce(function(c,b,e){return c+a[e-1]+(b?b:\" \")})}function P(a){return(a?p(g.arr(a)?a.map(x):x(a)):[]).filter(function(a,d,b){return b.indexOf(a)===d})}function da(a){var c=P(a);return c.map(function(a,\nb){return{target:a,id:b,total:c.length}})}function ea(a,c){var d=B(c);if(g.arr(a)){var b=a.length;2!==b||g.obj(a[0])?g.fnc(c.duration)||(d.duration=c.duration/b):a={value:a}}return x(a).map(function(a,b){b=b?0:c.delay;a=g.obj(a)&&!F(a)?a:{value:a};g.und(a.delay)&&(a.delay=b);return a}).map(function(a){return y(a,d)})}function fa(a,c){var d={},b;for(b in a){var e=I(a[b],c);g.arr(e)&&(e=e.map(function(a){return I(a,c)}),1===e.length&&(e=e[0]));d[b]=e}d.duration=parseFloat(d.duration);d.delay=parseFloat(d.delay);\nreturn d}function ga(a){return g.arr(a)?z.apply(this,a):Q[a]}function ha(a,c){var d;return a.tweens.map(function(b){b=fa(b,c);var e=b.value,k=K(c.target,a.name),h=d?d.to.original:k,h=g.arr(e)?e[0]:h,m=L(g.arr(e)?e[1]:e,h),k=v(m)||v(h)||v(k);b.isPath=F(e);b.from=O(h,k);b.to=O(m,k);b.start=d?d.end:a.offset;b.end=b.start+b.delay+b.duration;b.easing=ga(b.easing);b.elasticity=(1E3-Math.min(Math.max(b.elasticity,1),999))/1E3;g.col(b.from.original)&&(b.round=1);return d=b})}function ia(a,c){return p(a.map(function(a){return c.map(function(b){var c=\nJ(a.target,b.name);if(c){var d=ha(b,a);b={type:c,property:b.name,animatable:a,tweens:d,duration:d[d.length-1].end,delay:d[0].delay}}else b=void 0;return b})})).filter(function(a){return!g.und(a)})}function R(a,c,d){var b=\"delay\"===a?Math.min:Math.max;return c.length?b.apply(Math,c.map(function(b){return b[a]})):d[a]}function ja(a){var c=C(ka,a),d=C(S,a),b=da(a.targets),e=[],g=y(c,d),h;for(h in a)g.hasOwnProperty(h)||\"targets\"===h||e.push({name:h,offset:g.offset,tweens:ea(a[h],d)});a=ia(b,e);return y(c,\n{children:[],animatables:b,animations:a,duration:R(\"duration\",a,d),delay:R(\"delay\",a,d)})}function n(a){function c(){return window.Promise&&new Promise(function(a){return U=a})}function d(a){return f.reversed?f.duration-a:a}function b(a){for(var b=0,c={},d=f.animations,e={};b<d.length;){var g=d[b],h=g.animatable,m=g.tweens;e.tween=m.filter(function(b){return a<b.end})[0]||m[m.length-1];m=Math.min(Math.max(a-e.tween.start-e.tween.delay,0),e.tween.duration)/e.tween.duration;e.eased=isNaN(m)?1:e.tween.easing(m,\ne.tween.elasticity);e.round=e.tween.round;m=ca(e.tween.to.numbers.map(function(a){return function(b,c){c=a.tween.from.numbers[c];b=c+a.eased*(b-c);a.tween.isPath&&(b=ba(a.tween.value,b));a.round&&(b=Math.round(b*a.round)/a.round);return b}}(e)),e.tween.to.strings);la[g.type](h.target,g.property,m,c,h.id);g.currentValue=m;b++;e={tween:e.tween,eased:e.eased,round:e.round}}if(c)for(var l in c)G||(G=D(document.body,\"transform\")?\"transform\":\"-webkit-transform\"),f.animatables[l].target.style[G]=c[l].join(\" \");\nf.currentTime=a;f.progress=a/f.duration*100}function e(a){if(f[a])f[a](f)}function g(){f.remaining&&!0!==f.remaining&&f.remaining--}function h(a){var h=f.duration,k=f.offset,n=f.delay,T=f.currentTime,q=f.reversed,r=d(a);if(f.children.length){var p=f.children;if(r>=f.currentTime)for(var u=0;u<p.length;u++)p[u].seek(r);else for(u=p.length;u--;)p[u].seek(r)}r>=n&&(e(\"run\"),f.began||(f.began=!0,e(\"begin\")));r>k&&r<h?b(r):(r<=k&&0!==T&&(b(0),q&&g()),r>=h&&T!==h&&(b(h),q||g()));e(\"update\");a>=h&&(f.remaining?\n(t=m,\"alternate\"===f.direction&&(f.reversed=!f.reversed)):(f.pause(),f.completed||(f.completed=!0,e(\"complete\"),\"Promise\"in window&&(U(),V=c()))),l=0)}a=void 0===a?{}:a;var m,t,l=0,U=null,V=c(),f=ja(a);f.reset=function(){var a=f.direction,c=f.loop;f.currentTime=0;f.progress=0;f.paused=!0;f.began=!1;f.completed=!1;f.reversed=\"reverse\"===a;f.remaining=\"alternate\"===a&&1===c?2:c;b(0);for(a=f.children.length;a--;)f.children[a].reset()};f.tick=function(a){m=a;t||(t=m);h((l+m-t)*n.speed)};f.seek=function(a){h(d(a))};\nf.pause=function(){var a=q.indexOf(f);-1<a&&q.splice(a,1);f.paused=!0};f.play=function(){f.paused&&(f.paused=!1,t=0,l=d(f.currentTime),q.push(f),A||ma())};f.reverse=function(){f.reversed=!f.reversed;t=0;l=d(f.currentTime)};f.restart=function(){f.pause();f.reset();f.play()};f.finished=V;f.reset();f.autoplay&&f.play();return f}var ka={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:\"normal\",autoplay:!0,offset:0},S={duration:1E3,delay:0,easing:\"easeOutElastic\",elasticity:500,round:0},\nZ=\"translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective\".split(\" \"),G,g={arr:function(a){return Array.isArray(a)},obj:function(a){return-1<Object.prototype.toString.call(a).indexOf(\"Object\")},svg:function(a){return a instanceof SVGElement},dom:function(a){return a.nodeType||g.svg(a)},str:function(a){return\"string\"===typeof a},fnc:function(a){return\"function\"===typeof a},und:function(a){return\"undefined\"===typeof a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},\nrgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return g.hex(a)||g.rgb(a)||g.hsl(a)}},z=function(){function a(a,d,b){return(((1-3*b+3*d)*a+(3*b-6*d))*a+3*d)*a}return function(c,d,b,e){if(0<=c&&1>=c&&0<=b&&1>=b){var g=new Float32Array(11);if(c!==d||b!==e)for(var h=0;11>h;++h)g[h]=a(.1*h,c,b);return function(h){if(c===d&&b===e)return h;if(0===h)return 0;if(1===h)return 1;for(var m=0,l=1;10!==l&&g[l]<=h;++l)m+=.1;--l;var l=m+(h-g[l])/(g[l+1]-g[l])*.1,k=3*(1-\n3*b+3*c)*l*l+2*(3*b-6*c)*l+3*c;if(.001<=k){for(m=0;4>m;++m){k=3*(1-3*b+3*c)*l*l+2*(3*b-6*c)*l+3*c;if(0===k)break;var n=a(l,c,b)-h,l=l-n/k}h=l}else if(0===k)h=l;else{var l=m,m=m+.1,f=0;do n=l+(m-l)/2,k=a(n,c,b)-h,0<k?m=n:l=n;while(1e-7<Math.abs(k)&&10>++f);h=n}return a(h,d,e)}}}}(),Q=function(){function a(a,b){return 0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(2*(a-1-b/(2*Math.PI)*Math.asin(1))*Math.PI/b)}var c=\"Quad Cubic Quart Quint Sine Expo Circ Back Elastic\".split(\" \"),d={In:[[.55,.085,.68,\n.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],a],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(b,c){return 1-a(1-b,c)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(b,c){return.5>b?a(2*b,c)/\n2:1-a(-2*b+2,c)/2}]},b={linear:z(.25,.25,.75,.75)},e={},k;for(k in d)e.type=k,d[e.type].forEach(function(a){return function(d,e){b[\"ease\"+a.type+c[e]]=g.fnc(d)?d:z.apply($jscomp$this,d)}}(e)),e={type:e.type};return b}(),la={css:function(a,c,d){return a.style[c]=d},attribute:function(a,c,d){return a.setAttribute(c,d)},object:function(a,c,d){return a[c]=d},transform:function(a,c,d,b,e){b[e]||(b[e]=[]);b[e].push(c+\"(\"+d+\")\")}},q=[],A=0,ma=function(){function a(){A=requestAnimationFrame(c)}function c(c){var b=\nq.length;if(b){for(var d=0;d<b;)q[d]&&q[d].tick(c),d++;a()}else cancelAnimationFrame(A),A=0}return a}();n.version=\"2.1.0\";n.speed=1;n.running=q;n.remove=function(a){a=P(a);for(var c=q.length;c--;)for(var d=q[c],b=d.animations,e=b.length;e--;)H(a,b[e].animatable.target)&&(b.splice(e,1),b.length||d.pause())};n.getValue=K;n.path=function(a,c){var d=g.str(a)?w(a)[0]:a,b=c||100;return function(a){return{el:d,property:a,totalLength:N(d)*(b/100)}}};n.setDashoffset=function(a){var c=N(a);a.setAttribute(\"stroke-dasharray\",\nc);return c};n.bezier=z;n.easings=Q;n.timeline=function(a){var c=n(a);c.pause();c.duration=0;c.add=function(d){c.children.forEach(function(a){a.began=!0;a.completed=!0});x(d).forEach(function(b){var d=y(b,C(S,a||{}));d.targets=d.targets||a.targets;b=c.duration;var k=d.offset;d.autoplay=!1;d.offset=g.und(k)?b:L(k,b);c.began=!0;c.completed=!0;c.seek(d.offset);d=n(d);d.began=!0;d.completed=!0;d.duration>b&&(c.duration=d.duration);c.children.push(d)});c.seek(0);c.reset();c.autoplay&&c.restart();return c};\nreturn c};n.random=function(a,c){return Math.floor(Math.random()*(c-a+1))+a};return n});","// import jQuery from \"jquery\"\n// window.$ = window.jQuery = jQuery\n\n// import 'whatwg-fetch'\n// import 'feature.js'\n// import Promise from 'promise-polyfill'\nimport riot from 'riot'\nimport anime from 'animejs'\n// import p5 from 'p5'\n// import ScrollMagic from 'scrollmagic'\n// import slick from 'slick-carousel'\n\nimport './app.tag'\n\n// riot.mount('app')\n\n;(function($){\n\n$(() => {\n\n  // \n  const anchorScroll = () => {\n\n    function scrollTo(selector, offset, cb) {\n      console.log(selector)\n      var body = [document.body, document.documentElement]\n      var offset = offset || 0\n      if(feature.touch){\n        offset += 60\n      }\n      var el = document.querySelector(selector)\n      var scrollAnim = anime({\n        targets: body,\n        scrollTop: el.offsetTop - offset,\n        duration: 500,\n        easing: 'easeInOutQuart',\n        complete: function() { if (cb) cb(); }\n      })\n    }\n\n    if(!feature.touch){\n      $('a[href^=\"#\"], .js-anchor-scroll').on('click', (e) => {\n        e.preventDefault()\n        var href = $(e.currentTarget).attr('href')\n        scrollTo(href)\n        return false\n      })\n    }\n  }\n\n  anchorScroll()\n})\n\n})(jQuery)\n\nconst sketch = p => {\n\n  setup = () => {\n    createCanvas(640, 480)\n  }\n\n  draw = () => {\n    if (mouseIsPressed) {\n      fill(0)\n    } else {\n      fill(255)\n    }\n    ellipse(mouseX, mouseY, 80, 80)\n  }\n}\n\nnew p5(sketch)\n\nconsole.log(`feature.touch = ${feature.touch}`)\n"],"names":["isBoolAttr","value","RE_BOOL_ATTRS","test","isFunction","T_FUNCTION","isObject","T_OBJECT","isUndefined","T_UNDEF","isString","T_STRING","isBlank","isArray","Array","isWritable","obj","key","const","descriptor","Object","getOwnPropertyDescriptor","writable","$$","selector","ctx","prototype","slice","call","document","querySelectorAll","$","querySelector","createFrag","createDocumentFragment","createDOMPlaceholder","createTextNode","isSvg","el","ownerSVGElement","mkEl","name","createElementNS","SVG_NS","createElement","setInnerHTML","container","html","innerHTML","doc","DOMParser","parseFromString","node","ownerDocument","importNode","documentElement","appendChild","toggleVisibility","dom","show","style","display","remAttr","removeAttribute","styleObjectToString","keys","reduce","acc","prop","getAttr","getAttribute","setAttr","val","xlink","XLINK_REGEX","exec","setAttributeNS","XLINK_NS","setAttribute","safeInsert","root","curr","next","insertBefore","parentNode","walkAttrs","fn","let","m","RE_HTML_ATTRS","toLowerCase","walkNodes","context","res","firstChild","nextSibling","each","list","len","length","i","contains","array","item","indexOf","toCamel","str","replace","_","c","toUpperCase","startsWith","defineProperty","options","extend","enumerable","configurable","src","args","arguments","handleEvent","handler","e","ptag","this","__","parent","currentTarget","target","srcElement","which","charCode","keyCode","settings","autoUpdate","preventUpdate","p","getImmediateCustomParentTag","isMounted","update","setEventHandler","tag","eventName","cb","bind","RE_EVENTS_PREFIX","listeners","push","RIOT_EVENTS_KEY","removeEventListener","addEventListener","updateDataIs","expr","tagName","ref","_tag","head","isVirtual","unmount","impl","__TAG_IMPL","initChildTag","attrs","a","mount","makeReplaceVirtual","onUnmount","delName","opts","dataIs","arrayishRemove","tags","normalizeAttrName","attrName","ATTRS_PREFIX","CASE_SENSITIVE_ATTRIBUTES","updateExpression","hasValue","isObj","attr","isToggle","SHOW_DIRECTIVE","HIDE_DIRECTIVE","isStyleAttr","isClassAttr","_riot_id","wasCreated","tmpl","create","JSON","stringify","isAttrRemoved","bool","isRtag","wasParsedOnce","IE_VERSION","nodeValue","hidden","updateAllExpressions","expressions","mkitem","base","pos","unmountRedundant","items","j","remove","apply","splice","moveNestedTags","moveChildTag","move","nextTag","moveVirtual","insert","makeVirtual","append","getItemId","keyAttr","originalItem","keyedItem","hasKeyAttrExpr","_each","hasKeys","mustReorder","LOOP_NO_REORDER_DIRECTIVE","KEY_DIRECTIVE","hasExpr","getTagName","placeholder","child","getTag","ifExpr","CONDITIONAL_DIRECTIVE","isAnonymous","oldItems","LOOP_DIRECTIVE","loopKeys","isLoop","removeChild","frag","tmpItems","map","filter","_item","itemId","doReorder","oldPos","isNew","mustAppend","mustCreate","Tag","cloneNode","index","arrayishAdd","t","parseExpressions","mustIncludeRoot","tagImpl","type","nodeType","children","IfExpr","init","IS_DIRECTIVE","attributes","parentElement","outerHTML","parseAttributes","REF_DIRECTIVES","YIELD_TAG","RefExpr","specialTags","select","trim","selectedIndex","tname","rootEls","childElementCount","replaceYield","reHasYield","reYieldSrc","text","reYieldDest","def","reYieldAll","mkdom","match","SVG","GENERIC","tblTags","css","onCreate","class","constructor","mountTo","styleManager","inject","add","tag2","pushTagsTo","riotTag","elem","allTags","selectTags","split","nodeList","_el","mixin","mix","g","mixins_id","store","globals","mixins","Error","__TAGS_CACHE","unregister","updateOpts","instAttrs","setMountState","trigger","off","conf","skipAnonymous","skipAnonymousTags","implAttrs","isInline","propsInSyncWithParent","observable","virts","tail","uid","data","nextOpts","canTrigger","shouldUpdate","inheritFrom","instance","props","propsBlacklist","proto","getPrototypeOf","concat","getOwnPropertyNames","hasGetterSetter","get","set","hasOwnProperty","isPrototypeOf","k","v","globalMixin","GLOBAL_MIXIN","one","mustKeepRoot","tagIndex","forEach","unmountAll","mustSync","newPos","skipDataIs","namedTag","ensureArray","dest","isArr","hasIndex","oldIndex","implClass","_innerHTML","replaceChild","sib","WIN","window","undefined","RE_SPECIAL_TAGS","RE_SPECIAL_TAGS_NO_OPTION","viewbox","documentMode","styleNode","cssTextProp","byName","remainder","needsInject","newNode","userNode","id","getElementsByTagName","styleSheet","join","cssText","skipRegex","prev","code","beforeReChars","beforeReWords","wordsLastChar","s","w","RE_REGEX","RE_VN_CHAR","start","re","lastIndex","end","brackets","UNDEF","_loopback","_rewrite","bp","_cache","RegExp","source","global","REGLOB","_create","pair","DEFAULT","_pairs","arr","UNSUPPORTED","NEED_ESCAPE","S_QBLOCK2","_brackets","reOrIdx","_regex","_reset","cachedBrackets","_settings","R_MLCOMMS","R_STRINGS","S_QBLOCKS","FINDBRACES","(","[","{","_bp","unescapeStr","prevStr","isexpr","parts","pushQBlock","_pos","_lastIndex","slash","mark","qblocks","ch","rech","ix","o","b","riot","_tmpl","_logErr","err","riotData","errorHandler","console","error","message","log","_getTmpl","Function","RE_DQUOTE","qstr","_parseExpr","RE_QBMARK","asText","cnt","RE_CSNAME","jsb","rightContext","mm","lv","ir","RE_BREND","skipBraces","_wrapExpr","tb","JS_VARNAME","mvar","JS_CONTEXT","JS_NOPROPS","clearCache","version","callbacks","defineProperties","on","event","fns","arglen","stub","pristine","current","attrValue","rawValue","hasExp","old","customParent","tagOrDom","__ref","refs","tr","th","td","col","util","vdom","check","misc","misc.extend","core","$jscomp$this","module","exports","anime","d","x","NodeList","HTMLCollection","H","some","B","C","y","und","W","h","parseInt","X","Y","I","fnc","total","D","getComputedStyle","getPropertyValue","J","Z","svg","aa","transform","K","L","parseFloat","E","Math","sqrt","pow","M","points","numberOfItems","getItem","N","getTotalLength","PI","F","ba","getPointAtLength","property","atan2","O","totalLength","rgb","hex","hsl","substr","original","numbers","Number","strings","ca","P","da","ea","duration","delay","fa","ga","z","Q","ha","tweens","to","isPath","from","offset","easing","elasticity","min","max","round","ia","animatable","R","ja","ka","S","targets","animatables","animations","n","Promise","U","f","reversed","tween","eased","isNaN","la","currentValue","l","G","body","currentTime","progress","remaining","T","q","r","u","seek","began","direction","pause","completed","V","reset","loop","paused","tick","speed","play","A","ma","reverse","restart","finished","autoplay","begin","run","complete","toString","SVGElement","Float32Array","abs","sin","asin","In","Out","InOut","linear","attribute","object","requestAnimationFrame","cancelAnimationFrame","running","getValue","path","setDashoffset","bezier","easings","timeline","random","floor","scrollTo","feature","touch","scrollTop","offsetTop","preventDefault","anchorScroll","jQuery","sketch","setup","createCanvas","draw","mouseIsPressed","fill","ellipse","mouseX","mouseY","p5"],"mappings":"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"}