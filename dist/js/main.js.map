{"version":3,"sources":["../../node_modules/riot/riot.esm.js","../../node_modules/animejs/lib/anime.es.js","../riot/my-app.riot","../riot/raw-html.riot","main.js"],"names":["COMPONENTS_IMPLEMENTATION_MAP","Map","DOM_COMPONENT_INSTANCE_PROPERTY","Symbol","PLUGINS_SET","Set","IS_DIRECTIVE","VALUE_ATTRIBUTE","ATTRIBUTES_KEY_SYMBOL","TEMPLATE_KEY_SYMBOL","globals","Object","freeze","cleanNode","node","clearChildren","childNodes","children","Array","from","forEach","n","parentNode","removeChild","EACH","IF","SIMPLE","TAG","SLOT","bindingTypes","createTemplateMeta","componentTemplate","fragment","dom","cloneNode","avoidDOMInjection","iOF","indexOf","append","get","parent","start","end","before","isSelect","noSelection","child","insertBefore","selected","selectedIndex","call","querySelectorAll","eqeq","a","b","identity","O","moreNodes","moreStart","moreEnd","lessNodes","lessStart","lessEnd","compare","length","m","l","isReversed","futureNodes","futureEnd","currentNodes","currentStart","currentEnd","next","list","i","nextSibling","remove","range","ownerDocument","createRange","setStartBefore","setEndAfter","deleteContents","DELETION","INSERTION","SKIP","SKIP_OND","HS","futureStart","futureChanges","currentChanges","k","minLen","link","tresh","keymap","set","idxInOld","findK","newi","oldi","prev","diff","ptr","OND","rows","cols","d","r","c","pv","cv","pd","v","outer","diffIdx","applyDiff","currentLength","live","currentIndex","has","ktr","j","lo","hi","mid","smartDiff","domdiff","options","currentSame","futureSame","isNil","value","isTemplate","el","content","EachBinding","seal","childrenMap","root","condition","evaluate","template","isTemplateTag","nodes","getKey","indexName","itemName","afterPlaceholder","placeholder","mount","scope","parentScope","update","collection","items","createPatch","newChildrenMap","batches","patch","values","unmountRedundant","fn","unmount","redundant","item","info","pop","context","map","_ref","mustFilterItem","Boolean","extendScope","_ref2","index","binding","create","key","oldItem","clone","mustMount","meta","push","delete","_ref3","document","createTextNode","assign","createDOM","IfBinding","pristine","mustUnmount","create$1","_ref4","ATTRIBUTE","EVENT","TEXT","VALUE","expressionTypes","isBoolean","isObject","REMOVE_ATTRIBUTE","SET_ATTIBUTE","setAllAttributes","attributes","entries","_ref5","name","attributeExpression","removeAllAttributes","keys","attribute","removeAttribute","_ref6","oldValue","getMethod","normalizeValue","RE_EVENTS_PREFIX","eventExpression","_ref7","normalizedEventName","replace","removeEventListener","addEventListener","textExpression","_ref8","childNodeIndex","target","val","normalizeValue$1","nodeType","Node","COMMENT_NODE","textNode","replaceChild","data","valueExpression","expression","expressions","Expression","apply","type","create$2","flattenCollectionMethods","methods","reduce","acc","method","create$3","_ref9","SlotBinding","templateData","slots","find","_ref10","id","create$6","html","bindings","moveSlotInnerContent","mustRemoveRoot","slot","firstChild","createSlot","_ref11","getTag","component","slotsToMarkup","slotBindings","attr","_ref12","concat","TagBinding","tag","getComponent","keepRootTag","create$4","_ref13","create$5","selector","redundantAttribute","querySelector","isSvg","owner","ownerSVGElement","createHTMLTree","createElement","innerHTML","createSVGTree","container","svgNode","importNode","window","DOMParser","parseFromString","documentElement","createDOMTree","moveChildren","source","appendChild","injectDOM","createTemplateDOM","TemplateChunk","bindingsData","Error","checkType","element","isFunction","panic","error","callOrAssign","prototype","constructor","camelToDashCase","string","toLowerCase","dashToCamelCase","_","toUpperCase","defineDefaults","defaults","noop","autobindMethods","bind","defineProperty","enumerable","writable","configurable","defineProperties","properties","evaluateAttributeExpressions","domToArray","els","isArray","test","toString","normalize","parseNodes","names","attrs","props","prop","setAttribute","DOMattributesToObject","getName","tagName","$","ctx","CSS_BY_NAME","STYLE_NODE_SELECTOR","getStyleNode","style","head","cssManager","add","css","inject","join","curry","_len","arguments","_key","_len2","args","_key2","COMPONENT_CORE_HELPERS","$$","COMPONENT_LIFECYCLE_METHODS","shouldUpdate","onBeforeMount","onMounted","onBeforeUpdate","onUpdated","onBeforeUnmount","onUnmounted","MOCKED_TEMPLATE_INTERFACE","componentTemplateFactory","components","createComponent","exports","templateFn","createSubcomponents","componentAPI","defineComponent","state","preserveRoot","enhanceComponentAPI","evaluateProps","attributeExpressions","createAttributeBindings","updateValues","e","runPlugins","computeState","oldState","newState","addCssHook","initialProps","newProps","filter","mountComponent","componentName","compose","fns","f","g","DOM_COMPONENT_INSTANCE_PROPERTY$1","COMPONENTS_IMPLEMENTATION_MAP$1","PLUGINS_SET$1","register","unregister","keepRootElement","install","plugin","uninstall","implementation","version","__","anime","defaultInstanceSettings","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","min","max","Math","stringContains","str","text","applyArguments","func","is","arr","obj","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","fnc","und","hex","rgb","hsl","col","parseEasingParameters","match","exec","split","p","parseFloat","spring","params","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","solver","t","progress","exp","cos","sin","getDuration","cached","frame","elapsed","rest","steps","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","mX1","mY1","mX2","mY2","sampleValues","Float32Array","x","getTForX","aX","currentSample","intervalStart","lastSample","dist","guessForT","initialSlope","newtonRaphsonIterate","aGuessT","currentSlope","binarySubdivide","aA","aB","currentX","currentT","abs","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","easeIn","parseEasings","ease","selectString","filterArray","callback","len","thisArg","result","flattenArray","toArray","o","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","parseInt","hslToRgba","hslValue","h","s","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","total","getAttribute","convertPxToUnit","unit","baseline","tempEl","parentEl","body","position","width","factor","offsetWidth","convertedUnit","getCSSValue","uppercasePropName","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","getTransformValue","defaultVal","getOriginalTargetValue","getRelativeValue","to","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","points","previousPos","totalLength","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","getBoundingClientRect","viewBoxAttr","height","viewBox","w","getPath","path","percent","property","getPathProgress","point","offset","getPointAtLength","p0","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targets","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","propArray","flattenKeyframes","keyframes","propertyNames","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","isPath","isColor","setProgressValue","object","manual","last","setTargetsValue","valueUnit","animType","createAnimation","lastTween","getAnimations","animatables","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","raf","activeInstances","pausedInstances","engine","play","requestAnimationFrame","step","activeInstancesLength","activeInstance","paused","instanceIndex","splice","tick","cancelAnimationFrame","handleVisibilityChange","hidden","ins","pause","running","startTime","lastTime","now","childrenLength","resolve","makePromise","instance","promise","Promise","_resolve","finished","toggleInstanceDirection","reversed","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","reversePlayback","syncInstanceChildren","i$1","began","loopBegan","changeBegan","changeCompleted","remaining","completed","reset","reverse","restart","removeTargetsFromAnimations","targetsArray","removeTargets","childAnimations","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","maxValue","fromX","fromY","floor","distanceX","distanceY","timeline","tl","instanceParams","tlIndex","insParams","tlDuration","convertPx","random","finishAnimation","translateX","animationUnmount","console","log","classList","App"],"mappings":"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","file":"main.js","sourceRoot":"../../src/js","sourcesContent":["/* Riot v4.5.0, @license MIT */\nconst COMPONENTS_IMPLEMENTATION_MAP = new Map(),\n      DOM_COMPONENT_INSTANCE_PROPERTY = Symbol('riot-component'),\n      PLUGINS_SET = new Set(),\n      IS_DIRECTIVE = 'is',\n      VALUE_ATTRIBUTE = 'value',\n      ATTRIBUTES_KEY_SYMBOL = Symbol('attributes'),\n      TEMPLATE_KEY_SYMBOL = Symbol('template');\n\nvar globals = /*#__PURE__*/Object.freeze({\n  COMPONENTS_IMPLEMENTATION_MAP: COMPONENTS_IMPLEMENTATION_MAP,\n  DOM_COMPONENT_INSTANCE_PROPERTY: DOM_COMPONENT_INSTANCE_PROPERTY,\n  PLUGINS_SET: PLUGINS_SET,\n  IS_DIRECTIVE: IS_DIRECTIVE,\n  VALUE_ATTRIBUTE: VALUE_ATTRIBUTE,\n  ATTRIBUTES_KEY_SYMBOL: ATTRIBUTES_KEY_SYMBOL,\n  TEMPLATE_KEY_SYMBOL: TEMPLATE_KEY_SYMBOL\n});\n\n/**\n * Remove the child nodes from any DOM node\n * @param   {HTMLElement} node - target node\n * @returns {undefined}\n */\nfunction cleanNode(node) {\n  clearChildren(node.childNodes);\n}\n/**\n * Clear multiple children in a node\n * @param   {HTMLElement[]} children - direct children nodes\n * @returns {undefined}\n */\n\n\nfunction clearChildren(children) {\n  Array.from(children).forEach(n => n.parentNode && n.parentNode.removeChild(n));\n}\n\nconst EACH = 0;\nconst IF = 1;\nconst SIMPLE = 2;\nconst TAG = 3;\nconst SLOT = 4;\nvar bindingTypes = {\n  EACH,\n  IF,\n  SIMPLE,\n  TAG,\n  SLOT\n};\n/**\n * Create the template meta object in case of <template> fragments\n * @param   {TemplateChunk} componentTemplate - template chunk object\n * @returns {Object} the meta property that will be passed to the mount function of the TemplateChunk\n */\n\nfunction createTemplateMeta(componentTemplate) {\n  const fragment = componentTemplate.dom.cloneNode(true);\n  return {\n    avoidDOMInjection: true,\n    fragment,\n    children: Array.from(fragment.childNodes)\n  };\n}\n/* get rid of the @ungap/essential-map polyfill */\n\n\nconst {\n  indexOf: iOF\n} = [];\n\nconst append = (get, parent, children, start, end, before) => {\n  const isSelect = 'selectedIndex' in parent;\n  let noSelection = isSelect;\n\n  while (start < end) {\n    const child = get(children[start], 1);\n    parent.insertBefore(child, before);\n\n    if (isSelect && noSelection && child.selected) {\n      noSelection = !noSelection;\n      let {\n        selectedIndex\n      } = parent;\n      parent.selectedIndex = selectedIndex < 0 ? start : iOF.call(parent.querySelectorAll('option'), child);\n    }\n\n    start++;\n  }\n};\n\nconst eqeq = (a, b) => a == b;\n\nconst identity = O => O;\n\nconst indexOf = (moreNodes, moreStart, moreEnd, lessNodes, lessStart, lessEnd, compare) => {\n  const length = lessEnd - lessStart;\n  /* istanbul ignore if */\n\n  if (length < 1) return -1;\n\n  while (moreEnd - moreStart >= length) {\n    let m = moreStart;\n    let l = lessStart;\n\n    while (m < moreEnd && l < lessEnd && compare(moreNodes[m], lessNodes[l])) {\n      m++;\n      l++;\n    }\n\n    if (l === lessEnd) return moreStart;\n    moreStart = m + 1;\n  }\n\n  return -1;\n};\n\nconst isReversed = (futureNodes, futureEnd, currentNodes, currentStart, currentEnd, compare) => {\n  while (currentStart < currentEnd && compare(currentNodes[currentStart], futureNodes[futureEnd - 1])) {\n    currentStart++;\n    futureEnd--;\n  }\n\n  return futureEnd === 0;\n};\n\nconst next = (get, list, i, length, before) => i < length ? get(list[i], 0) : 0 < i ? get(list[i - 1], -0).nextSibling : before;\n\nconst remove = (get, parent, children, start, end) => {\n  if (end - start < 2) parent.removeChild(get(children[start], -1));else {\n    const range = parent.ownerDocument.createRange();\n    range.setStartBefore(get(children[start], -1));\n    range.setEndAfter(get(children[end - 1], -1));\n    range.deleteContents();\n  }\n}; // - - - - - - - - - - - - - - - - - - -\n// diff related constants and utilities\n// - - - - - - - - - - - - - - - - - - -\n\n\nconst DELETION = -1;\nconst INSERTION = 1;\nconst SKIP = 0;\nconst SKIP_OND = 50;\n\nconst HS = (futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges) => {\n  let k = 0;\n  /* istanbul ignore next */\n\n  let minLen = futureChanges < currentChanges ? futureChanges : currentChanges;\n  const link = Array(minLen++);\n  const tresh = Array(minLen);\n  tresh[0] = -1;\n\n  for (let i = 1; i < minLen; i++) tresh[i] = currentEnd;\n\n  const keymap = new Map();\n\n  for (let i = currentStart; i < currentEnd; i++) keymap.set(currentNodes[i], i);\n\n  for (let i = futureStart; i < futureEnd; i++) {\n    const idxInOld = keymap.get(futureNodes[i]);\n\n    if (idxInOld != null) {\n      k = findK(tresh, minLen, idxInOld);\n      /* istanbul ignore else */\n\n      if (-1 < k) {\n        tresh[k] = idxInOld;\n        link[k] = {\n          newi: i,\n          oldi: idxInOld,\n          prev: link[k - 1]\n        };\n      }\n    }\n  }\n\n  k = --minLen;\n  --currentEnd;\n\n  while (tresh[k] > currentEnd) --k;\n\n  minLen = currentChanges + futureChanges - k;\n  const diff = Array(minLen);\n  let ptr = link[k];\n  --futureEnd;\n\n  while (ptr) {\n    const {\n      newi,\n      oldi\n    } = ptr;\n\n    while (futureEnd > newi) {\n      diff[--minLen] = INSERTION;\n      --futureEnd;\n    }\n\n    while (currentEnd > oldi) {\n      diff[--minLen] = DELETION;\n      --currentEnd;\n    }\n\n    diff[--minLen] = SKIP;\n    --futureEnd;\n    --currentEnd;\n    ptr = ptr.prev;\n  }\n\n  while (futureEnd >= futureStart) {\n    diff[--minLen] = INSERTION;\n    --futureEnd;\n  }\n\n  while (currentEnd >= currentStart) {\n    diff[--minLen] = DELETION;\n    --currentEnd;\n  }\n\n  return diff;\n}; // this is pretty much the same petit-dom code without the delete map part\n// https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L556-L561\n\n\nconst OND = (futureNodes, futureStart, rows, currentNodes, currentStart, cols, compare) => {\n  const length = rows + cols;\n  const v = [];\n  let d, k, r, c, pv, cv, pd;\n\n  outer: for (d = 0; d <= length; d++) {\n    /* istanbul ignore if */\n    if (d > SKIP_OND) return null;\n    pd = d - 1;\n    /* istanbul ignore next */\n\n    pv = d ? v[d - 1] : [0, 0];\n    cv = v[d] = [];\n\n    for (k = -d; k <= d; k += 2) {\n      if (k === -d || k !== d && pv[pd + k - 1] < pv[pd + k + 1]) {\n        c = pv[pd + k + 1];\n      } else {\n        c = pv[pd + k - 1] + 1;\n      }\n\n      r = c - k;\n\n      while (c < cols && r < rows && compare(currentNodes[currentStart + c], futureNodes[futureStart + r])) {\n        c++;\n        r++;\n      }\n\n      if (c === cols && r === rows) {\n        break outer;\n      }\n\n      cv[d + k] = c;\n    }\n  }\n\n  const diff = Array(d / 2 + length / 2);\n  let diffIdx = diff.length - 1;\n\n  for (d = v.length - 1; d >= 0; d--) {\n    while (c > 0 && r > 0 && compare(currentNodes[currentStart + c - 1], futureNodes[futureStart + r - 1])) {\n      // diagonal edge = equality\n      diff[diffIdx--] = SKIP;\n      c--;\n      r--;\n    }\n\n    if (!d) break;\n    pd = d - 1;\n    /* istanbul ignore next */\n\n    pv = d ? v[d - 1] : [0, 0];\n    k = c - r;\n\n    if (k === -d || k !== d && pv[pd + k - 1] < pv[pd + k + 1]) {\n      // vertical edge = insertion\n      r--;\n      diff[diffIdx--] = INSERTION;\n    } else {\n      // horizontal edge = deletion\n      c--;\n      diff[diffIdx--] = DELETION;\n    }\n  }\n\n  return diff;\n};\n\nconst applyDiff = (diff, get, parentNode, futureNodes, futureStart, currentNodes, currentStart, currentLength, before) => {\n  const live = new Map();\n  const length = diff.length;\n  let currentIndex = currentStart;\n  let i = 0;\n\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        futureStart++;\n        currentIndex++;\n        break;\n\n      case INSERTION:\n        // TODO: bulk appends for sequential nodes\n        live.set(futureNodes[futureStart], 1);\n        append(get, parentNode, futureNodes, futureStart++, futureStart, currentIndex < currentLength ? get(currentNodes[currentIndex], 0) : before);\n        break;\n\n      case DELETION:\n        currentIndex++;\n        break;\n    }\n  }\n\n  i = 0;\n\n  while (i < length) {\n    switch (diff[i++]) {\n      case SKIP:\n        currentStart++;\n        break;\n\n      case DELETION:\n        // TODO: bulk removes for sequential nodes\n        if (live.has(currentNodes[currentStart])) currentStart++;else remove(get, parentNode, currentNodes, currentStart++, currentStart);\n        break;\n    }\n  }\n};\n\nconst findK = (ktr, length, j) => {\n  let lo = 1;\n  let hi = length;\n\n  while (lo < hi) {\n    const mid = (lo + hi) / 2 >>> 0;\n    if (j < ktr[mid]) hi = mid;else lo = mid + 1;\n  }\n\n  return lo;\n};\n\nconst smartDiff = (get, parentNode, futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges, currentLength, compare, before) => {\n  applyDiff(OND(futureNodes, futureStart, futureChanges, currentNodes, currentStart, currentChanges, compare) || HS(futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges), get, parentNode, futureNodes, futureStart, currentNodes, currentStart, currentLength, before);\n};\n/*! (c) 2018 Andrea Giammarchi (ISC) */\n\n\nconst domdiff = (parentNode, // where changes happen\ncurrentNodes, // Array of current items/nodes\nfutureNodes, // Array of future items/nodes\noptions // optional object with one of the following properties\n//  before: domNode\n//  compare(generic, generic) => true if same generic\n//  node(generic) => Node\n) => {\n  if (!options) options = {};\n  const compare = options.compare || eqeq;\n  const get = options.node || identity;\n  const before = options.before == null ? null : get(options.before, 0);\n  const currentLength = currentNodes.length;\n  let currentEnd = currentLength;\n  let currentStart = 0;\n  let futureEnd = futureNodes.length;\n  let futureStart = 0; // common prefix\n\n  while (currentStart < currentEnd && futureStart < futureEnd && compare(currentNodes[currentStart], futureNodes[futureStart])) {\n    currentStart++;\n    futureStart++;\n  } // common suffix\n\n\n  while (currentStart < currentEnd && futureStart < futureEnd && compare(currentNodes[currentEnd - 1], futureNodes[futureEnd - 1])) {\n    currentEnd--;\n    futureEnd--;\n  }\n\n  const currentSame = currentStart === currentEnd;\n  const futureSame = futureStart === futureEnd; // same list\n\n  if (currentSame && futureSame) return futureNodes; // only stuff to add\n\n  if (currentSame && futureStart < futureEnd) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, next(get, currentNodes, currentStart, currentLength, before));\n    return futureNodes;\n  } // only stuff to remove\n\n\n  if (futureSame && currentStart < currentEnd) {\n    remove(get, parentNode, currentNodes, currentStart, currentEnd);\n    return futureNodes;\n  }\n\n  const currentChanges = currentEnd - currentStart;\n  const futureChanges = futureEnd - futureStart;\n  let i = -1; // 2 simple indels: the shortest sequence is a subsequence of the longest\n\n  if (currentChanges < futureChanges) {\n    i = indexOf(futureNodes, futureStart, futureEnd, currentNodes, currentStart, currentEnd, compare); // inner diff\n\n    if (-1 < i) {\n      append(get, parentNode, futureNodes, futureStart, i, get(currentNodes[currentStart], 0));\n      append(get, parentNode, futureNodes, i + currentChanges, futureEnd, next(get, currentNodes, currentEnd, currentLength, before));\n      return futureNodes;\n    }\n  }\n  /* istanbul ignore else */\n  else if (futureChanges < currentChanges) {\n      i = indexOf(currentNodes, currentStart, currentEnd, futureNodes, futureStart, futureEnd, compare); // outer diff\n\n      if (-1 < i) {\n        remove(get, parentNode, currentNodes, currentStart, i);\n        remove(get, parentNode, currentNodes, i + futureChanges, currentEnd);\n        return futureNodes;\n      }\n    } // common case with one replacement for many nodes\n  // or many nodes replaced for a single one\n\n  /* istanbul ignore else */\n\n\n  if (currentChanges < 2 || futureChanges < 2) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, get(currentNodes[currentStart], 0));\n    remove(get, parentNode, currentNodes, currentStart, currentEnd);\n    return futureNodes;\n  } // the half match diff part has been skipped in petit-dom\n  // https://github.com/yelouafi/petit-dom/blob/bd6f5c919b5ae5297be01612c524c40be45f14a7/src/vdom.js#L391-L397\n  // accordingly, I think it's safe to skip in here too\n  // if one day it'll come out like the speediest thing ever to do\n  // then I might add it in here too\n  // Extra: before going too fancy, what about reversed lists ?\n  //        This should bail out pretty quickly if that's not the case.\n\n\n  if (currentChanges === futureChanges && isReversed(futureNodes, futureEnd, currentNodes, currentStart, currentEnd, compare)) {\n    append(get, parentNode, futureNodes, futureStart, futureEnd, next(get, currentNodes, currentEnd, currentLength, before));\n    return futureNodes;\n  } // last resort through a smart diff\n\n\n  smartDiff(get, parentNode, futureNodes, futureStart, futureEnd, futureChanges, currentNodes, currentStart, currentEnd, currentChanges, currentLength, compare, before);\n  return futureNodes;\n};\n/**\n * Check if a value is null or undefined\n * @param   {*}  value - anything\n * @returns {boolean} true only for the 'undefined' and 'null' types\n */\n\n\nfunction isNil(value) {\n  return value === null || value === undefined;\n}\n/**\n * Check if an element is a template tag\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if it's a <template>\n */\n\n\nfunction isTemplate(el) {\n  return !isNil(el.content);\n}\n\nconst EachBinding = Object.seal({\n  // dynamic binding properties\n  childrenMap: null,\n  node: null,\n  root: null,\n  condition: null,\n  evaluate: null,\n  template: null,\n  isTemplateTag: false,\n  nodes: [],\n  getKey: null,\n  indexName: null,\n  itemName: null,\n  afterPlaceholder: null,\n  placeholder: null,\n\n  // API methods\n  mount(scope, parentScope) {\n    return this.update(scope, parentScope);\n  },\n\n  update(scope, parentScope) {\n    const {\n      placeholder\n    } = this;\n    const collection = this.evaluate(scope);\n    const items = collection ? Array.from(collection) : [];\n    const parent = placeholder.parentNode; // prepare the diffing\n\n    const {\n      newChildrenMap,\n      batches,\n      futureNodes\n    } = createPatch(items, scope, parentScope, this); // patch the DOM only if there are new nodes\n\n    if (futureNodes.length) {\n      domdiff(parent, this.nodes, futureNodes, {\n        before: placeholder,\n        node: patch(Array.from(this.childrenMap.values()), parentScope)\n      });\n    } else {\n      // remove all redundant templates\n      unmountRedundant(this.childrenMap);\n    } // trigger the mounts and the updates\n\n\n    batches.forEach(fn => fn()); // update the children map\n\n    this.childrenMap = newChildrenMap;\n    this.nodes = futureNodes;\n    return this;\n  },\n\n  unmount(scope, parentScope) {\n    unmountRedundant(this.childrenMap, parentScope);\n    this.childrenMap = new Map();\n    this.nodes = [];\n    return this;\n  }\n\n});\n/**\n * Patch the DOM while diffing\n * @param   {TemplateChunk[]} redundant - redundant tepmplate chunks\n * @param   {*} parentScope - scope of the parent template\n * @returns {Function} patch function used by domdiff\n */\n\nfunction patch(redundant, parentScope) {\n  return (item, info) => {\n    if (info < 0) {\n      const {\n        template,\n        context\n      } = redundant.pop(); // notice that we pass null as last argument because\n      // the root node and its children will be removed by domdiff\n\n      template.unmount(context, parentScope, null);\n    }\n\n    return item;\n  };\n}\n/**\n * Unmount the remaining template instances\n * @param   {Map} childrenMap - map containing the children template to unmount\n * @param   {*} parentScope - scope of the parent template\n * @returns {TemplateChunk[]} collection containing the template chunks unmounted\n */\n\n\nfunction unmountRedundant(childrenMap, parentScope) {\n  return Array.from(childrenMap.values()).map((_ref) => {\n    let {\n      template,\n      context\n    } = _ref;\n    return template.unmount(context, parentScope, true);\n  });\n}\n/**\n * Check whether a template must be filtered from a loop\n * @param   {Function} condition - filter function\n * @param   {Object} context - argument passed to the filter function\n * @returns {boolean} true if this item should be skipped\n */\n\n\nfunction mustFilterItem(condition, context) {\n  return condition ? Boolean(condition(context)) === false : false;\n}\n/**\n * Extend the scope of the looped template\n * @param   {Object} scope - current template scope\n * @param   {string} options.itemName - key to identify the looped item in the new context\n * @param   {string} options.indexName - key to identify the index of the looped item\n * @param   {number} options.index - current index\n * @param   {*} options.item - collection item looped\n * @returns {Object} enhanced scope object\n */\n\n\nfunction extendScope(scope, _ref2) {\n  let {\n    itemName,\n    indexName,\n    index,\n    item\n  } = _ref2;\n  scope[itemName] = item;\n  if (indexName) scope[indexName] = index;\n  return scope;\n}\n/**\n * Loop the current template items\n * @param   {Array} items - expression collection value\n * @param   {*} scope - template scope\n * @param   {*} parentScope - scope of the parent template\n * @param   {EeachBinding} binding - each binding object instance\n * @returns {Object} data\n * @returns {Map} data.newChildrenMap - a Map containing the new children template structure\n * @returns {Array} data.batches - array containing the template lifecycle functions to trigger\n * @returns {Array} data.futureNodes - array containing the nodes we need to diff\n */\n\n\nfunction createPatch(items, scope, parentScope, binding) {\n  const {\n    condition,\n    template,\n    childrenMap,\n    itemName,\n    getKey,\n    indexName,\n    root,\n    isTemplateTag\n  } = binding;\n  const newChildrenMap = new Map();\n  const batches = [];\n  const futureNodes = [];\n  items.forEach((item, index) => {\n    const context = extendScope(Object.create(scope), {\n      itemName,\n      indexName,\n      index,\n      item\n    });\n    const key = getKey ? getKey(context) : index;\n    const oldItem = childrenMap.get(key);\n\n    if (mustFilterItem(condition, context)) {\n      return;\n    }\n\n    const componentTemplate = oldItem ? oldItem.template : template.clone();\n    const el = oldItem ? componentTemplate.el : root.cloneNode();\n    const mustMount = !oldItem;\n    const meta = isTemplateTag && mustMount ? createTemplateMeta(componentTemplate) : {};\n\n    if (mustMount) {\n      batches.push(() => componentTemplate.mount(el, context, parentScope, meta));\n    } else {\n      componentTemplate.update(context, parentScope);\n    } // create the collection of nodes to update or to add\n    // in case of template tags we need to add all its children nodes\n\n\n    if (isTemplateTag) {\n      futureNodes.push(...(meta.children || componentTemplate.children));\n    } else {\n      futureNodes.push(el);\n    } // delete the old item from the children map\n\n\n    childrenMap.delete(key); // update the children map\n\n    newChildrenMap.set(key, {\n      template: componentTemplate,\n      context,\n      index\n    });\n  });\n  return {\n    newChildrenMap,\n    batches,\n    futureNodes\n  };\n}\n\nfunction create(node, _ref3) {\n  let {\n    evaluate,\n    condition,\n    itemName,\n    indexName,\n    getKey,\n    template\n  } = _ref3;\n  const placeholder = document.createTextNode('');\n  const parent = node.parentNode;\n  const root = node.cloneNode();\n  parent.insertBefore(placeholder, node);\n  parent.removeChild(node);\n  return Object.assign({}, EachBinding, {\n    childrenMap: new Map(),\n    node,\n    root,\n    condition,\n    evaluate,\n    isTemplateTag: isTemplate(root),\n    template: template.createDOM(node),\n    getKey,\n    indexName,\n    itemName,\n    placeholder\n  });\n}\n/**\n * Binding responsible for the `if` directive\n */\n\n\nconst IfBinding = Object.seal({\n  // dynamic binding properties\n  node: null,\n  evaluate: null,\n  parent: null,\n  isTemplateTag: false,\n  placeholder: null,\n  template: null,\n\n  // API methods\n  mount(scope, parentScope) {\n    this.parent.insertBefore(this.placeholder, this.node);\n    this.parent.removeChild(this.node);\n    return this.update(scope, parentScope);\n  },\n\n  update(scope, parentScope) {\n    const value = !!this.evaluate(scope);\n    const mustMount = !this.value && value;\n    const mustUnmount = this.value && !value;\n\n    const mount = () => {\n      const pristine = this.node.cloneNode();\n      this.parent.insertBefore(pristine, this.placeholder);\n      this.template = this.template.clone();\n      this.template.mount(pristine, scope, parentScope);\n    };\n\n    switch (true) {\n      case mustMount:\n        mount();\n        break;\n\n      case mustUnmount:\n        this.unmount(scope);\n        break;\n\n      default:\n        if (value) this.template.update(scope, parentScope);\n    }\n\n    this.value = value;\n    return this;\n  },\n\n  unmount(scope, parentScope) {\n    this.template.unmount(scope, parentScope, true);\n    return this;\n  }\n\n});\n\nfunction create$1(node, _ref4) {\n  let {\n    evaluate,\n    template\n  } = _ref4;\n  return Object.assign({}, IfBinding, {\n    node,\n    evaluate,\n    parent: node.parentNode,\n    placeholder: document.createTextNode(''),\n    template: template.createDOM(node)\n  });\n}\n\nconst ATTRIBUTE = 0;\nconst EVENT = 1;\nconst TEXT = 2;\nconst VALUE = 3;\nvar expressionTypes = {\n  ATTRIBUTE,\n  EVENT,\n  TEXT,\n  VALUE\n};\n/**\n * Check if a value is a Boolean\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is a boolean\n */\n\nfunction isBoolean(value) {\n  return typeof value === 'boolean';\n}\n/**\n * Check if a value is an Object\n * @param   {*}  value - anything\n * @returns {boolean} true only for the value is an object\n */\n\n\nfunction isObject(value) {\n  return typeof value === 'object';\n}\n\nconst REMOVE_ATTRIBUTE = 'removeAttribute';\nconst SET_ATTIBUTE = 'setAttribute';\n/**\n * Add all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} attributes - object containing the attributes names and values\n * @returns {undefined} sorry it's a void function :(\n */\n\nfunction setAllAttributes(node, attributes) {\n  Object.entries(attributes).forEach((_ref5) => {\n    let [name, value] = _ref5;\n    return attributeExpression(node, {\n      name\n    }, value);\n  });\n}\n/**\n * Remove all the attributes provided\n * @param   {HTMLElement} node - target node\n * @param   {Object} attributes - object containing all the attribute names\n * @returns {undefined} sorry it's a void function :(\n */\n\n\nfunction removeAllAttributes(node, attributes) {\n  Object.keys(attributes).forEach(attribute => node.removeAttribute(attribute));\n}\n/**\n * This methods handles the DOM attributes updates\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {string} expression.name - attribute name\n * @param   {*} value - new expression value\n * @param   {*} oldValue - the old expression cached value\n * @returns {undefined}\n */\n\n\nfunction attributeExpression(node, _ref6, value, oldValue) {\n  let {\n    name\n  } = _ref6;\n\n  // is it a spread operator? {...attributes}\n  if (!name) {\n    // is the value still truthy?\n    if (value) {\n      setAllAttributes(node, value);\n    } else if (oldValue) {\n      // otherwise remove all the old attributes\n      removeAllAttributes(node, oldValue);\n    }\n\n    return;\n  } // handle boolean attributes\n\n\n  if (isBoolean(value) || isObject(value)) {\n    node[name] = value;\n  }\n\n  node[getMethod(value)](name, normalizeValue(name, value));\n}\n/**\n * Get the attribute modifier method\n * @param   {*} value - if truthy we return `setAttribute` othewise `removeAttribute`\n * @returns {string} the node attribute modifier method name\n */\n\n\nfunction getMethod(value) {\n  return isNil(value) || value === false || value === '' || isObject(value) ? REMOVE_ATTRIBUTE : SET_ATTIBUTE;\n}\n/**\n * Get the value as string\n * @param   {string} name - attribute name\n * @param   {*} value - user input value\n * @returns {string} input value as string\n */\n\n\nfunction normalizeValue(name, value) {\n  // be sure that expressions like selected={ true } will be always rendered as selected='selected'\n  if (value === true) return name;\n  return value;\n}\n\nconst RE_EVENTS_PREFIX = /^on/;\n/**\n * Set a new event listener\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {string} expression.name - event name\n * @param   {*} value - new expression value\n * @param   {*} oldValue - old expression value\n * @returns {value} the callback just received\n */\n\nfunction eventExpression(node, _ref7, value, oldValue) {\n  let {\n    name\n  } = _ref7;\n  const normalizedEventName = name.replace(RE_EVENTS_PREFIX, '');\n\n  if (oldValue) {\n    node.removeEventListener(normalizedEventName, oldValue);\n  }\n\n  if (value) {\n    node.addEventListener(normalizedEventName, value, false);\n  }\n\n  return value;\n}\n/**\n * This methods handles a simple text expression update\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {number} expression.childNodeIndex - index to find the text node to update\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\n\n\nfunction textExpression(node, _ref8, value) {\n  let {\n    childNodeIndex\n  } = _ref8;\n  const target = node.childNodes[childNodeIndex];\n  const val = normalizeValue$1(value); // replace the target if it's a placeholder comment\n\n  if (target.nodeType === Node.COMMENT_NODE) {\n    const textNode = document.createTextNode(val);\n    node.replaceChild(textNode, target);\n  } else {\n    target.data = normalizeValue$1(val);\n  }\n}\n/**\n * Normalize the user value in order to render a empty string in case of falsy values\n * @param   {*} value - user input value\n * @returns {string} hopefully a string\n */\n\n\nfunction normalizeValue$1(value) {\n  return isNil(value) ? '' : value;\n}\n/**\n * This methods handles the input fileds value updates\n * @param   {HTMLElement} node - target node\n * @param   {Object} expression - expression object\n * @param   {*} value - new expression value\n * @returns {undefined}\n */\n\n\nfunction valueExpression(node, expression, value) {\n  node.value = value;\n}\n\nvar expressions = {\n  [ATTRIBUTE]: attributeExpression,\n  [EVENT]: eventExpression,\n  [TEXT]: textExpression,\n  [VALUE]: valueExpression\n};\nconst Expression = Object.seal({\n  // Static props\n  node: null,\n  value: null,\n\n  // API methods\n\n  /**\n   * Mount the expression evaluating its initial value\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  mount(scope) {\n    // hopefully a pure function\n    this.value = this.evaluate(scope); // IO() DOM updates\n\n    apply(this, this.value);\n    return this;\n  },\n\n  /**\n   * Update the expression if its value changed\n   * @param   {*} scope - argument passed to the expression to evaluate its current values\n   * @returns {Expression} self\n   */\n  update(scope) {\n    // pure function\n    const value = this.evaluate(scope);\n\n    if (this.value !== value) {\n      // IO() DOM updates\n      apply(this, value);\n      this.value = value;\n    }\n\n    return this;\n  },\n\n  /**\n   * Expression teardown method\n   * @returns {Expression} self\n   */\n  unmount() {\n    // unmount only the event handling expressions\n    if (this.type === EVENT) apply(this, null);\n    return this;\n  }\n\n});\n/**\n * IO() function to handle the DOM updates\n * @param {Expression} expression - expression object\n * @param {*} value - current expression value\n * @returns {undefined}\n */\n\nfunction apply(expression, value) {\n  return expressions[expression.type](expression.node, expression, value, expression.value);\n}\n\nfunction create$2(node, data) {\n  return Object.assign({}, Expression, {}, data, {\n    node\n  });\n}\n/**\n * Create a flat object having as keys a list of methods that if dispatched will propagate\n * on the whole collection\n * @param   {Array} collection - collection to iterate\n * @param   {Array<string>} methods - methods to execute on each item of the collection\n * @param   {*} context - context returned by the new methods created\n * @returns {Object} a new object to simplify the the nested methods dispatching\n */\n\n\nfunction flattenCollectionMethods(collection, methods, context) {\n  return methods.reduce((acc, method) => {\n    return Object.assign({}, acc, {\n      [method]: scope => {\n        return collection.map(item => item[method](scope)) && context;\n      }\n    });\n  }, {});\n}\n\nfunction create$3(node, _ref9) {\n  let {\n    expressions\n  } = _ref9;\n  return Object.assign({}, flattenCollectionMethods(expressions.map(expression => create$2(node, expression)), ['mount', 'update', 'unmount']));\n}\n\nconst SlotBinding = Object.seal({\n  // dynamic binding properties\n  node: null,\n  name: null,\n  template: null,\n\n  // API methods\n  mount(scope, parentScope) {\n    const templateData = scope.slots ? scope.slots.find((_ref10) => {\n      let {\n        id\n      } = _ref10;\n      return id === this.name;\n    }) : false;\n    const {\n      parentNode\n    } = this.node;\n    this.template = templateData && create$6(templateData.html, templateData.bindings).createDOM(parentNode);\n\n    if (this.template) {\n      this.template.mount(this.node, parentScope);\n      moveSlotInnerContent(this.node);\n    }\n\n    parentNode.removeChild(this.node);\n    return this;\n  },\n\n  update(scope, parentScope) {\n    if (this.template && parentScope) {\n      this.template.update(parentScope);\n    }\n\n    return this;\n  },\n\n  unmount(scope, parentScope, mustRemoveRoot) {\n    if (this.template) {\n      this.template.unmount(parentScope, null, mustRemoveRoot);\n    }\n\n    return this;\n  }\n\n});\n/**\n * Move the inner content of the slots outside of them\n * @param   {HTMLNode} slot - slot node\n * @returns {undefined} it's a void function\n */\n\nfunction moveSlotInnerContent(slot) {\n  if (slot.firstChild) {\n    slot.parentNode.insertBefore(slot.firstChild, slot);\n    moveSlotInnerContent(slot);\n  }\n}\n/**\n * Create a single slot binding\n * @param   {HTMLElement} node - slot node\n * @param   {string} options.name - slot id\n * @returns {Object} Slot binding object\n */\n\n\nfunction createSlot(node, _ref11) {\n  let {\n    name\n  } = _ref11;\n  return Object.assign({}, SlotBinding, {\n    node,\n    name\n  });\n}\n/**\n * Create a new tag object if it was registered before, otherwise fallback to the simple\n * template chunk\n * @param   {Function} component - component factory function\n * @param   {Array<Object>} slots - array containing the slots markup\n * @param   {Array} attributes - dynamic attributes that will be received by the tag element\n * @returns {TagImplementation|TemplateChunk} a tag implementation or a template chunk as fallback\n */\n\n\nfunction getTag(component, slots, attributes) {\n  if (slots === void 0) {\n    slots = [];\n  }\n\n  if (attributes === void 0) {\n    attributes = [];\n  }\n\n  // if this tag was registered before we will return its implementation\n  if (component) {\n    return component({\n      slots,\n      attributes\n    });\n  } // otherwise we return a template chunk\n\n\n  return create$6(slotsToMarkup(slots), [...slotBindings(slots), {\n    // the attributes should be registered as binding\n    // if we fallback to a normal template chunk\n    expressions: attributes.map(attr => {\n      return Object.assign({\n        type: ATTRIBUTE\n      }, attr);\n    })\n  }]);\n}\n/**\n * Merge all the slots bindings into a single array\n * @param   {Array<Object>} slots - slots collection\n * @returns {Array<Bindings>} flatten bindings array\n */\n\n\nfunction slotBindings(slots) {\n  return slots.reduce((acc, _ref12) => {\n    let {\n      bindings\n    } = _ref12;\n    return acc.concat(bindings);\n  }, []);\n}\n/**\n * Merge all the slots together in a single markup string\n * @param   {Array<Object>} slots - slots collection\n * @returns {string} markup of all the slots in a single string\n */\n\n\nfunction slotsToMarkup(slots) {\n  return slots.reduce((acc, slot) => {\n    return acc + slot.html;\n  }, '');\n}\n\nconst TagBinding = Object.seal({\n  // dynamic binding properties\n  node: null,\n  evaluate: null,\n  name: null,\n  slots: null,\n  tag: null,\n  attributes: null,\n  getComponent: null,\n\n  mount(scope) {\n    return this.update(scope);\n  },\n\n  update(scope, parentScope) {\n    const name = this.evaluate(scope); // simple update\n\n    if (name === this.name) {\n      this.tag.update(scope);\n    } else {\n      // unmount the old tag if it exists\n      this.unmount(scope, parentScope, true); // mount the new tag\n\n      this.name = name;\n      this.tag = getTag(this.getComponent(name), this.slots, this.attributes);\n      this.tag.mount(this.node, scope);\n    }\n\n    return this;\n  },\n\n  unmount(scope, parentScope, keepRootTag) {\n    if (this.tag) {\n      // keep the root tag\n      this.tag.unmount(keepRootTag);\n    }\n\n    return this;\n  }\n\n});\n\nfunction create$4(node, _ref13) {\n  let {\n    evaluate,\n    getComponent,\n    slots,\n    attributes\n  } = _ref13;\n  return Object.assign({}, TagBinding, {\n    node,\n    evaluate,\n    slots,\n    attributes,\n    getComponent\n  });\n}\n\nvar bindings = {\n  [IF]: create$1,\n  [SIMPLE]: create$3,\n  [EACH]: create,\n  [TAG]: create$4,\n  [SLOT]: createSlot\n};\n/**\n * Bind a new expression object to a DOM node\n * @param   {HTMLElement} root - DOM node where to bind the expression\n * @param   {Object} binding - binding data\n * @returns {Expression} Expression object\n */\n\nfunction create$5(root, binding) {\n  const {\n    selector,\n    type,\n    redundantAttribute,\n    expressions\n  } = binding; // find the node to apply the bindings\n\n  const node = selector ? root.querySelector(selector) : root; // remove eventually additional attributes created only to select this node\n\n  if (redundantAttribute) node.removeAttribute(redundantAttribute); // init the binding\n\n  return (bindings[type] || bindings[SIMPLE])(node, Object.assign({}, binding, {\n    expressions: expressions || []\n  }));\n}\n/**\n * Check if an element is part of an svg\n * @param   {HTMLElement}  el - element to check\n * @returns {boolean} true if we are in an svg context\n */\n\n\nfunction isSvg(el) {\n  const owner = el.ownerSVGElement;\n  return !!owner || owner === null;\n} // in this case a simple innerHTML is enough\n\n\nfunction createHTMLTree(html, root) {\n  const template = isTemplate(root) ? root : document.createElement('template');\n  template.innerHTML = html;\n  return template.content;\n} // for svg nodes we need a bit more work\n\n\nfunction createSVGTree(html, container) {\n  // create the SVGNode\n  const svgNode = container.ownerDocument.importNode(new window.DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\">${html}</svg>`, 'application/xml').documentElement, true);\n  return svgNode;\n}\n/**\n * Create the DOM that will be injected\n * @param {Object} root - DOM node to find out the context where the fragment will be created\n * @param   {string} html - DOM to create as string\n * @returns {HTMLDocumentFragment|HTMLElement} a new html fragment\n */\n\n\nfunction createDOMTree(root, html) {\n  if (isSvg(root)) return createSVGTree(html, root);\n  return createHTMLTree(html, root);\n}\n/**\n * Move all the child nodes from a source tag to another\n * @param   {HTMLElement} source - source node\n * @param   {HTMLElement} target - target node\n * @returns {undefined} it's a void method \\_()_/\n */\n// Ignore this helper because it's needed only for svg tags\n\n/* istanbul ignore next */\n\n\nfunction moveChildren(source, target) {\n  if (source.firstChild) {\n    target.appendChild(source.firstChild);\n    moveChildren(source, target);\n  }\n}\n/**\n * Inject the DOM tree into a target node\n * @param   {HTMLElement} el - target element\n * @param   {HTMLFragment|SVGElement} dom - dom tree to inject\n * @returns {undefined}\n */\n\n\nfunction injectDOM(el, dom) {\n  switch (true) {\n    case isSvg(el):\n      moveChildren(dom, el);\n      break;\n\n    case isTemplate(el):\n      el.parentNode.replaceChild(dom, el);\n      break;\n\n    default:\n      el.appendChild(dom);\n  }\n}\n/**\n * Create the Template DOM skeleton\n * @param   {HTMLElement} el - root node where the DOM will be injected\n * @param   {string} html - markup that will be injected into the root node\n * @returns {HTMLFragment} fragment that will be injected into the root node\n */\n\n\nfunction createTemplateDOM(el, html) {\n  return html && (typeof html === 'string' ? createDOMTree(el, html) : html);\n}\n/**\n * Template Chunk model\n * @type {Object}\n */\n\n\nconst TemplateChunk = Object.freeze({\n  // Static props\n  bindings: null,\n  bindingsData: null,\n  html: null,\n  isTemplateTag: false,\n  fragment: null,\n  children: null,\n  dom: null,\n  el: null,\n\n  /**\n   * Create the template DOM structure that will be cloned on each mount\n   * @param   {HTMLElement} el - the root node\n   * @returns {TemplateChunk} self\n   */\n  createDOM(el) {\n    // make sure that the DOM gets created before cloning the template\n    this.dom = this.dom || createTemplateDOM(el, this.html);\n    return this;\n  },\n\n  // API methods\n\n  /**\n   * Attach the template to a DOM node\n   * @param   {HTMLElement} el - target DOM node\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {Object} meta - meta properties needed to handle the <template> tags in loops\n   * @returns {TemplateChunk} self\n   */\n  mount(el, scope, parentScope, meta) {\n    if (meta === void 0) {\n      meta = {};\n    }\n\n    if (!el) throw new Error('Please provide DOM node to mount properly your template');\n    if (this.el) this.unmount(scope); // <template> tags require a bit more work\n    // the template fragment might be already created via meta outside of this call\n\n    const {\n      fragment,\n      children,\n      avoidDOMInjection\n    } = meta; // <template> bindings of course can not have a root element\n    // so we check the parent node to set the query selector bindings\n\n    const {\n      parentNode\n    } = children ? children[0] : el;\n    this.isTemplateTag = isTemplate(el); // create the DOM if it wasn't created before\n\n    this.createDOM(el);\n\n    if (this.dom) {\n      // create the new template dom fragment if it want already passed in via meta\n      this.fragment = fragment || this.dom.cloneNode(true);\n    } // store root node\n    // notice that for template tags the root note will be the parent tag\n\n\n    this.el = this.isTemplateTag ? parentNode : el; // create the children array only for the <template> fragments\n\n    this.children = this.isTemplateTag ? children || Array.from(this.fragment.childNodes) : null; // inject the DOM into the el only if a fragment is available\n\n    if (!avoidDOMInjection && this.fragment) injectDOM(el, this.fragment); // create the bindings\n\n    this.bindings = this.bindingsData.map(binding => create$5(this.el, binding));\n    this.bindings.forEach(b => b.mount(scope, parentScope));\n    return this;\n  },\n\n  /**\n   * Update the template with fresh data\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @returns {TemplateChunk} self\n   */\n  update(scope, parentScope) {\n    this.bindings.forEach(b => b.update(scope, parentScope));\n    return this;\n  },\n\n  /**\n   * Remove the template from the node where it was initially mounted\n   * @param   {*} scope - template data\n   * @param   {*} parentScope - scope of the parent template tag\n   * @param   {boolean|null} mustRemoveRoot - if true remove the root element,\n   * if false or undefined clean the root tag content, if null don't touch the DOM\n   * @returns {TemplateChunk} self\n   */\n  unmount(scope, parentScope, mustRemoveRoot) {\n    if (this.el) {\n      this.bindings.forEach(b => b.unmount(scope, parentScope, mustRemoveRoot));\n\n      switch (true) {\n        // <template> tags should be treated a bit differently\n        // we need to clear their children only if it's explicitly required by the caller\n        // via mustRemoveRoot !== null\n        case this.isTemplateTag === true && mustRemoveRoot !== null:\n          clearChildren(this.children);\n          break;\n        // remove the root node only if the mustRemoveRoot === true\n\n        case mustRemoveRoot === true && this.el.parentNode !== null:\n          this.el.parentNode.removeChild(this.el);\n          break;\n        // otherwise we clean the node children\n\n        case mustRemoveRoot !== null:\n          cleanNode(this.el);\n          break;\n      }\n\n      this.el = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * Clone the template chunk\n   * @returns {TemplateChunk} a clone of this object resetting the this.el property\n   */\n  clone() {\n    return Object.assign({}, this, {\n      el: null\n    });\n  }\n\n});\n/**\n * Create a template chunk wiring also the bindings\n * @param   {string|HTMLElement} html - template string\n * @param   {Array} bindings - bindings collection\n * @returns {TemplateChunk} a new TemplateChunk copy\n */\n\nfunction create$6(html, bindings) {\n  if (bindings === void 0) {\n    bindings = [];\n  }\n\n  return Object.assign({}, TemplateChunk, {\n    html,\n    bindingsData: bindings\n  });\n}\n\n/**\n * Quick type checking\n * @param   {*} element - anything\n * @param   {string} type - type definition\n * @returns {boolean} true if the type corresponds\n */\nfunction checkType(element, type) {\n  return typeof element === type;\n}\n/**\n * Check that will be passed if its argument is a function\n * @param   {*} value - value to check\n * @returns {boolean} - true if the value is a function\n */\n\nfunction isFunction(value) {\n  return checkType(value, 'function');\n}\n\n/* eslint-disable fp/no-mutating-methods */\n/**\n * Throw an error\n * @param {string} error - error message\n * @returns {undefined} it's a IO void function\n */\n\nfunction panic(error) {\n  throw new Error(error);\n}\n/**\n * Call the first argument received only if it's a function otherwise return it as it is\n * @param   {*} source - anything\n * @returns {*} anything\n */\n\nfunction callOrAssign(source) {\n  return isFunction(source) ? source.prototype && source.prototype.constructor ? new source() : source() : source;\n}\n/**\n * Convert a string from camel case to dash-case\n * @param   {string} string - probably a component tag name\n * @returns {string} component name normalized\n */\n\nfunction camelToDashCase(string) {\n  return string.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n/**\n * Convert a string containing dashes to camel case\n * @param   {string} string - input string\n * @returns {string} my-string -> myString\n */\n\nfunction dashToCamelCase(string) {\n  return string.replace(/-(\\w)/g, (_, c) => c.toUpperCase());\n}\n/**\n * Define default properties if they don't exist on the source object\n * @param   {Object} source - object that will receive the default properties\n * @param   {Object} defaults - object containing additional optional keys\n * @returns {Object} the original object received enhanced\n */\n\nfunction defineDefaults(source, defaults) {\n  Object.entries(defaults).forEach((_ref) => {\n    let [key, value] = _ref;\n    if (!source[key]) source[key] = value;\n  });\n  return source;\n} // doese simply nothing\n\nfunction noop() {\n  return this;\n}\n/**\n * Autobind the methods of a source object to itself\n * @param   {Object} source - probably a riot tag instance\n * @param   {Array<string>} methods - list of the methods to autobind\n * @returns {Object} the original object received\n */\n\nfunction autobindMethods(source, methods) {\n  methods.forEach(method => {\n    source[method] = source[method].bind(source);\n  });\n  return source;\n}\n/**\n * Helper function to set an immutable property\n * @param   {Object} source - object where the new property will be set\n * @param   {string} key - object key where the new property will be stored\n * @param   {*} value - value of the new property\n * @param   {Object} options - set the propery overriding the default options\n * @returns {Object} - the original object modified\n */\n\nfunction defineProperty(source, key, value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  Object.defineProperty(source, key, Object.assign({\n    value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  return source;\n}\n/**\n * Define multiple properties on a target object\n * @param   {Object} source - object where the new properties will be set\n * @param   {Object} properties - object containing as key pair the key + value properties\n * @param   {Object} options - set the propery overriding the default options\n * @returns {Object} the original object modified\n */\n\nfunction defineProperties(source, properties, options) {\n  Object.entries(properties).forEach((_ref2) => {\n    let [key, value] = _ref2;\n    defineProperty(source, key, value, options);\n  });\n  return source;\n}\n/**\n * Evaluate a list of attribute expressions\n * @param   {Array} attributes - attribute expressions generated by the riot compiler\n * @returns {Object} key value pairs with the result of the computation\n */\n\nfunction evaluateAttributeExpressions(attributes) {\n  return attributes.reduce((acc, attribute) => {\n    const {\n      value,\n      type\n    } = attribute;\n\n    switch (true) {\n      // spread attribute\n      case !attribute.name && type === expressionTypes.ATTRIBUTE:\n        return Object.assign({}, acc, {}, value);\n      // value attribute\n\n      case type === expressionTypes.VALUE:\n        acc[VALUE_ATTRIBUTE] = attribute.value;\n        break;\n      // normal attributes\n\n      default:\n        acc[dashToCamelCase(attribute.name)] = attribute.value;\n    }\n\n    return acc;\n  }, {});\n}\n\n/**\n * Converts any DOM node/s to a loopable array\n * @param   { HTMLElement|NodeList } els - single html element or a node list\n * @returns { Array } always a loopable object\n */\nfunction domToArray(els) {\n  // can this object be already looped?\n  if (!Array.isArray(els)) {\n    // is it a node list?\n    if (/^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(Object.prototype.toString.call(els)) && typeof els.length === 'number') return Array.from(els);else // if it's a single node\n      // it will be returned as \"array\" with one single entry\n      return [els];\n  } // this object could be looped out of the box\n\n\n  return els;\n}\n\n/**\n * Normalize the return values, in case of a single value we avoid to return an array\n * @param   { Array } values - list of values we want to return\n * @returns { Array|string|boolean } either the whole list of values or the single one found\n * @private\n */\n\nconst normalize = values => values.length === 1 ? values[0] : values;\n/**\n * Parse all the nodes received to get/remove/check their attributes\n * @param   { HTMLElement|NodeList|Array } els    - DOM node/s to parse\n * @param   { string|Array }               name   - name or list of attributes\n * @param   { string }                     method - method that will be used to parse the attributes\n * @returns { Array|string } result of the parsing in a list or a single value\n * @private\n */\n\n\nfunction parseNodes(els, name, method) {\n  const names = typeof name === 'string' ? [name] : name;\n  return normalize(domToArray(els).map(el => {\n    return normalize(names.map(n => el[method](n)));\n  }));\n}\n/**\n * Set any attribute on a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Object }              name  - either the name of the attribute to set\n *                                                 or a list of properties as object key - value\n * @param   { string }                     value - the new value of the attribute (optional)\n * @returns { HTMLElement|NodeList|Array } the original array of elements passed to this function\n *\n * @example\n *\n * import { set } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * set(img, 'width', 100)\n *\n * // or also\n * set(img, {\n *   width: 300,\n *   height: 300\n * })\n *\n */\n\n\nfunction set(els, name, value) {\n  const attrs = typeof name === 'object' ? name : {\n    [name]: value\n  };\n  const props = Object.keys(attrs);\n  domToArray(els).forEach(el => {\n    props.forEach(prop => el.setAttribute(prop, attrs[prop]));\n  });\n  return els;\n}\n/**\n * Get any attribute from a single or a list of DOM nodes\n * @param   { HTMLElement|NodeList|Array } els   - DOM node/s to parse\n * @param   { string|Array }               name  - name or list of attributes to get\n * @returns { Array|string } list of the attributes found\n *\n * @example\n *\n * import { get } from 'bianco.attr'\n *\n * const img = document.createElement('img')\n *\n * get(img, 'width') // => '200'\n *\n * // or also\n * get(img, ['width', 'height']) // => ['200', '300']\n *\n * // or also\n * get([img1, img2], ['width', 'height']) // => [['200', '300'], ['500', '200']]\n */\n\nfunction get(els, name) {\n  return parseNodes(els, name, 'getAttribute');\n}\n\n/**\n * Get all the element attributes as object\n * @param   {HTMLElement} element - DOM node we want to parse\n * @returns {Object} all the attributes found as a key value pairs\n */\n\nfunction DOMattributesToObject(element) {\n  return Array.from(element.attributes).reduce((acc, attribute) => {\n    acc[dashToCamelCase(attribute.name)] = attribute.value;\n    return acc;\n  }, {});\n}\n/**\n * Get the tag name of any DOM node\n * @param   {HTMLElement} element - DOM node we want to inspect\n * @returns {string} name to identify this dom node in riot\n */\n\nfunction getName(element) {\n  return get(element, IS_DIRECTIVE) || element.tagName.toLowerCase();\n}\n\n/**\n * Simple helper to find DOM nodes returning them as array like loopable object\n * @param   { string|DOMNodeList } selector - either the query or the DOM nodes to arraify\n * @param   { HTMLElement }        ctx      - context defining where the query will search for the DOM nodes\n * @returns { Array } DOM nodes found as array\n */\n\nfunction $(selector, ctx) {\n  return domToArray(typeof selector === 'string' ? (ctx || document).querySelectorAll(selector) : selector);\n}\n\nconst CSS_BY_NAME = new Map();\nconst STYLE_NODE_SELECTOR = 'style[riot]'; // memoized curried function\n\nconst getStyleNode = (style => {\n  return () => {\n    // lazy evaluation:\n    // if this function was already called before\n    // we return its cached result\n    if (style) return style; // create a new style element or use an existing one\n    // and cache it internally\n\n    style = $(STYLE_NODE_SELECTOR)[0] || document.createElement('style');\n    set(style, 'type', 'text/css');\n    /* istanbul ignore next */\n\n    if (!style.parentNode) document.head.appendChild(style);\n    return style;\n  };\n})();\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\n\n\nvar cssManager = {\n  CSS_BY_NAME,\n\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { string } name - if it's passed we will map the css to a tagname\n   * @param { string } css - css string\n   * @returns {Object} self\n   */\n  add(name, css) {\n    if (!CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.set(name, css);\n      this.inject();\n    }\n\n    return this;\n  },\n\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   * @returns {Object} self\n   */\n  inject() {\n    getStyleNode().innerHTML = [...CSS_BY_NAME.values()].join('\\n');\n    return this;\n  },\n\n  /**\n   * Remove a tag style from the DOM\n   * @param {string} name a registered tagname\n   * @returns {Object} self\n   */\n  remove(name) {\n    if (CSS_BY_NAME.has(name)) {\n      CSS_BY_NAME.delete(name);\n      this.inject();\n    }\n\n    return this;\n  }\n\n};\n\n/**\n * Function to curry any javascript method\n * @param   {Function}  fn - the target function we want to curry\n * @param   {...[args]} acc - initial arguments\n * @returns {Function|*} it will return a function until the target function\n *                       will receive all of its arguments\n */\nfunction curry(fn) {\n  for (var _len = arguments.length, acc = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    acc[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args = [...acc, ...args];\n    return args.length < fn.length ? curry(fn, ...args) : fn(...args);\n  };\n}\n\nconst COMPONENT_CORE_HELPERS = Object.freeze({\n  // component helpers\n  $(selector) {\n    return $(selector, this.root)[0];\n  },\n\n  $$(selector) {\n    return $(selector, this.root);\n  }\n\n});\nconst COMPONENT_LIFECYCLE_METHODS = Object.freeze({\n  shouldUpdate: noop,\n  onBeforeMount: noop,\n  onMounted: noop,\n  onBeforeUpdate: noop,\n  onUpdated: noop,\n  onBeforeUnmount: noop,\n  onUnmounted: noop\n});\nconst MOCKED_TEMPLATE_INTERFACE = {\n  update: noop,\n  mount: noop,\n  unmount: noop,\n  clone: noop,\n  createDOM: noop\n  /**\n   * Factory function to create the component templates only once\n   * @param   {Function} template - component template creation function\n   * @param   {Object} components - object containing the nested components\n   * @returns {TemplateChunk} template chunk object\n   */\n\n};\n\nfunction componentTemplateFactory(template, components) {\n  return template(create$6, expressionTypes, bindingTypes, name => {\n    return components[name] || COMPONENTS_IMPLEMENTATION_MAP.get(name);\n  });\n}\n/**\n * Create the component interface needed for the @riotjs/dom-bindings tag bindings\n * @param   {string} options.css - component css\n * @param   {Function} options.template - functon that will return the dom-bindings template function\n * @param   {Object} options.exports - component interface\n * @param   {string} options.name - component name\n * @returns {Object} component like interface\n */\n\n\nfunction createComponent(_ref) {\n  let {\n    css,\n    template,\n    exports,\n    name\n  } = _ref;\n  const templateFn = template ? componentTemplateFactory(template, exports ? createSubcomponents(exports.components) : {}) : MOCKED_TEMPLATE_INTERFACE;\n  return (_ref2) => {\n    let {\n      slots,\n      attributes,\n      props\n    } = _ref2;\n    const componentAPI = callOrAssign(exports) || {};\n    const component = defineComponent({\n      css,\n      template: templateFn,\n      componentAPI,\n      name\n    })({\n      slots,\n      attributes,\n      props\n    }); // notice that for the components create via tag binding\n    // we need to invert the mount (state/parentScope) arguments\n    // the template bindings will only forward the parentScope updates\n    // and never deal with the component state\n\n    return {\n      mount(element, parentScope, state) {\n        return component.mount(element, state, parentScope);\n      },\n\n      update(parentScope, state) {\n        return component.update(state, parentScope);\n      },\n\n      unmount(preserveRoot) {\n        return component.unmount(preserveRoot);\n      }\n\n    };\n  };\n}\n/**\n * Component definition function\n * @param   {Object} implementation - the componen implementation will be generated via compiler\n * @param   {Object} component - the component initial properties\n * @returns {Object} a new component implementation object\n */\n\nfunction defineComponent(_ref3) {\n  let {\n    css,\n    template,\n    componentAPI,\n    name\n  } = _ref3;\n  // add the component css into the DOM\n  if (css && name) cssManager.add(name, css);\n  return curry(enhanceComponentAPI)(defineProperties( // set the component defaults without overriding the original component API\n  defineDefaults(componentAPI, Object.assign({}, COMPONENT_LIFECYCLE_METHODS, {\n    state: {}\n  })), Object.assign({\n    // defined during the component creation\n    slots: null,\n    root: null\n  }, COMPONENT_CORE_HELPERS, {\n    name,\n    css,\n    template\n  })));\n}\n/**\n * Evaluate the component properties either from its real attributes or from its attribute expressions\n * @param   {HTMLElement} element - component root\n * @param   {Array}  attributeExpressions - attribute values generated via createAttributeBindings\n * @returns {Object} attributes key value pairs\n */\n\nfunction evaluateProps(element, attributeExpressions) {\n  if (attributeExpressions === void 0) {\n    attributeExpressions = [];\n  }\n\n  return Object.assign({}, DOMattributesToObject(element), {}, evaluateAttributeExpressions(attributeExpressions));\n}\n/**\n * Create the bindings to update the component attributes\n * @param   {HTMLElement} node - node where we will bind the expressions\n * @param   {Array} attributes - list of attribute bindings\n * @returns {TemplateChunk} - template bindings object\n */\n\n\nfunction createAttributeBindings(node, attributes) {\n  if (attributes === void 0) {\n    attributes = [];\n  }\n\n  const expressions = attributes.map(a => create$2(node, a));\n  const binding = {};\n\n  const updateValues = method => scope => {\n    expressions.forEach(e => e[method](scope));\n    return binding;\n  };\n\n  return Object.assign(binding, {\n    expressions,\n    mount: updateValues('mount'),\n    update: updateValues('update'),\n    unmount: updateValues('unmount')\n  });\n}\n/**\n * Create the subcomponents that can be included inside a tag in runtime\n * @param   {Object} components - components imported in runtime\n * @returns {Object} all the components transformed into Riot.Component factory functions\n */\n\n\nfunction createSubcomponents(components) {\n  if (components === void 0) {\n    components = {};\n  }\n\n  return Object.entries(callOrAssign(components)).reduce((acc, _ref4) => {\n    let [key, value] = _ref4;\n    acc[camelToDashCase(key)] = createComponent(value);\n    return acc;\n  }, {});\n}\n/**\n * Run the component instance through all the plugins set by the user\n * @param   {Object} component - component instance\n * @returns {Object} the component enhanced by the plugins\n */\n\n\nfunction runPlugins(component) {\n  return [...PLUGINS_SET].reduce((c, fn) => fn(c) || c, component);\n}\n/**\n * Compute the component current state merging it with its previous state\n * @param   {Object} oldState - previous state object\n * @param   {Object} newState - new state givent to the `update` call\n * @returns {Object} new object state\n */\n\n\nfunction computeState(oldState, newState) {\n  return Object.assign({}, oldState, {}, callOrAssign(newState));\n}\n/**\n * Add eventually the \"is\" attribute to link this DOM node to its css\n * @param {HTMLElement} element - target root node\n * @param {string} name - name of the component mounted\n * @returns {undefined} it's a void function\n */\n\n\nfunction addCssHook(element, name) {\n  if (getName(element) !== name) {\n    set(element, 'is', name);\n  }\n}\n/**\n * Component creation factory function that will enhance the user provided API\n * @param   {Object} component - a component implementation previously defined\n * @param   {Array} options.slots - component slots generated via riot compiler\n * @param   {Array} options.attributes - attribute expressions generated via riot compiler\n * @returns {Riot.Component} a riot component instance\n */\n\n\nfunction enhanceComponentAPI(component, _ref5) {\n  let {\n    slots,\n    attributes,\n    props\n  } = _ref5;\n  const initialProps = callOrAssign(props);\n  return autobindMethods(runPlugins(defineProperties(Object.create(component), {\n    mount(element, state, parentScope) {\n      if (state === void 0) {\n        state = {};\n      }\n\n      this[ATTRIBUTES_KEY_SYMBOL] = createAttributeBindings(element, attributes).mount(parentScope);\n      this.props = Object.freeze(Object.assign({}, initialProps, {}, evaluateProps(element, this[ATTRIBUTES_KEY_SYMBOL].expressions)));\n      this.state = computeState(this.state, state);\n      this[TEMPLATE_KEY_SYMBOL] = this.template.createDOM(element).clone(); // link this object to the DOM node\n\n      element[DOM_COMPONENT_INSTANCE_PROPERTY] = this; // add eventually the 'is' attribute\n\n      component.name && addCssHook(element, component.name); // define the root element\n\n      defineProperty(this, 'root', element); // define the slots array\n\n      defineProperty(this, 'slots', slots); // before mount lifecycle event\n\n      this.onBeforeMount(this.props, this.state); // mount the template\n\n      this[TEMPLATE_KEY_SYMBOL].mount(element, this, parentScope);\n      this.onMounted(this.props, this.state);\n      return this;\n    },\n\n    update(state, parentScope) {\n      if (state === void 0) {\n        state = {};\n      }\n\n      if (parentScope) {\n        this[ATTRIBUTES_KEY_SYMBOL].update(parentScope);\n      }\n\n      const newProps = evaluateProps(this.root, this[ATTRIBUTES_KEY_SYMBOL].expressions);\n      if (this.shouldUpdate(newProps, this.props) === false) return;\n      this.props = Object.freeze(Object.assign({}, initialProps, {}, newProps));\n      this.state = computeState(this.state, state);\n      this.onBeforeUpdate(this.props, this.state);\n      this[TEMPLATE_KEY_SYMBOL].update(this, parentScope);\n      this.onUpdated(this.props, this.state);\n      return this;\n    },\n\n    unmount(preserveRoot) {\n      this.onBeforeUnmount(this.props, this.state);\n      this[ATTRIBUTES_KEY_SYMBOL].unmount(); // if the preserveRoot is null the template html will be left untouched\n      // in that case the DOM cleanup will happen differently from a parent node\n\n      this[TEMPLATE_KEY_SYMBOL].unmount(this, {}, preserveRoot === null ? null : !preserveRoot);\n      this.onUnmounted(this.props, this.state);\n      return this;\n    }\n\n  })), Object.keys(component).filter(prop => isFunction(component[prop])));\n}\n/**\n * Component initialization function starting from a DOM node\n * @param   {HTMLElement} element - element to upgrade\n * @param   {Object} initialProps - initial component properties\n * @param   {string} componentName - component id\n * @returns {Object} a new component instance bound to a DOM node\n */\n\nfunction mountComponent(element, initialProps, componentName) {\n  const name = componentName || getName(element);\n  if (!COMPONENTS_IMPLEMENTATION_MAP.has(name)) panic(`The component named \"${name}\" was never registered`);\n  const component = COMPONENTS_IMPLEMENTATION_MAP.get(name)({\n    props: initialProps\n  });\n  return component.mount(element);\n}\n\n/**\n * Similar to compose but performs from left-to-right function composition.<br/>\n * {@link https://30secondsofcode.org/function#composeright see also}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n/**\n * Performs right-to-left function composition.<br/>\n * Use Array.prototype.reduce() to perform right-to-left function composition.<br/>\n * The last (rightmost) function can accept one or more arguments; the remaining functions must be unary.<br/>\n * {@link https://30secondsofcode.org/function#compose original source code}\n * @param   {...[function]} fns) - list of unary function\n * @returns {*} result of the computation\n */\n\nfunction compose() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return fns.reduce((f, g) => function () {\n    return f(g(...arguments));\n  });\n}\n\nconst {\n  DOM_COMPONENT_INSTANCE_PROPERTY: DOM_COMPONENT_INSTANCE_PROPERTY$1,\n  COMPONENTS_IMPLEMENTATION_MAP: COMPONENTS_IMPLEMENTATION_MAP$1,\n  PLUGINS_SET: PLUGINS_SET$1\n} = globals;\n/**\n * Riot public api\n */\n\n/**\n * Register a custom tag by name\n * @param   {string} name - component name\n * @param   {Object} implementation - tag implementation\n * @returns {Map} map containing all the components implementations\n */\n\nfunction register(name, _ref) {\n  let {\n    css,\n    template,\n    exports\n  } = _ref;\n  if (COMPONENTS_IMPLEMENTATION_MAP$1.has(name)) panic(`The component \"${name}\" was already registered`);\n  COMPONENTS_IMPLEMENTATION_MAP$1.set(name, createComponent({\n    name,\n    css,\n    template,\n    exports\n  }));\n  return COMPONENTS_IMPLEMENTATION_MAP$1;\n}\n/**\n * Unregister a riot web component\n * @param   {string} name - component name\n * @returns {Map} map containing all the components implementations\n */\n\nfunction unregister(name) {\n  if (!COMPONENTS_IMPLEMENTATION_MAP$1.has(name)) panic(`The component \"${name}\" was never registered`);\n  COMPONENTS_IMPLEMENTATION_MAP$1.delete(name);\n  cssManager.remove(name);\n  return COMPONENTS_IMPLEMENTATION_MAP$1;\n}\n/**\n * Mounting function that will work only for the components that were globally registered\n * @param   {string|HTMLElement} selector - query for the selection or a DOM element\n * @param   {Object} initialProps - the initial component properties\n * @param   {string} name - optional component name\n * @returns {Array} list of nodes upgraded\n */\n\nfunction mount(selector, initialProps, name) {\n  return $(selector).map(element => mountComponent(element, initialProps, name));\n}\n/**\n * Sweet unmounting helper function for the DOM node mounted manually by the user\n * @param   {string|HTMLElement} selector - query for the selection or a DOM element\n * @param   {boolean|null} keepRootElement - if true keep the root element\n * @returns {Array} list of nodes unmounted\n */\n\nfunction unmount(selector, keepRootElement) {\n  return $(selector).map(element => {\n    if (element[DOM_COMPONENT_INSTANCE_PROPERTY$1]) {\n      element[DOM_COMPONENT_INSTANCE_PROPERTY$1].unmount(keepRootElement);\n    }\n\n    return element;\n  });\n}\n/**\n * Define a riot plugin\n * @param   {Function} plugin - function that will receive all the components created\n * @returns {Set} the set containing all the plugins installed\n */\n\nfunction install(plugin) {\n  if (!isFunction(plugin)) panic('Plugins must be of type function');\n  if (PLUGINS_SET$1.has(plugin)) panic('This plugin was already install');\n  PLUGINS_SET$1.add(plugin);\n  return PLUGINS_SET$1;\n}\n/**\n * Uninstall a riot plugin\n * @param   {Function} plugin - plugin previously installed\n * @returns {Set} the set containing all the plugins installed\n */\n\nfunction uninstall(plugin) {\n  if (!PLUGINS_SET$1.has(plugin)) panic('This plugin was never installed');\n  PLUGINS_SET$1.delete(plugin);\n  return PLUGINS_SET$1;\n}\n/**\n * Helpter method to create component without relying on the registered ones\n * @param   {Object} implementation - component implementation\n * @returns {Function} function that will allow you to mount a riot component on a DOM node\n */\n\nfunction component(implementation) {\n  return (el, props) => compose(c => c.mount(el), c => c({\n    props\n  }), createComponent)(implementation);\n}\n/** @type {string} current riot version */\n\nconst version = 'v4.5.0'; // expose some internal stuff that might be used from external tools\n\nconst __ = {\n  cssManager,\n  defineComponent,\n  globals\n};\n\nexport { __, component, install, mount, register, uninstall, unmount, unregister, version };\n","/*\n * anime.js v3.1.0\n * (c) 2019 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.round(t * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width / viewBox[2],\n    h: height / viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * svg.w;\n    case 'y': return (p.y - svg.y) * svg.h;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\nvar pausedInstances = [];\nvar raf;\n\nvar engine = (function () {\n  function play() { \n    raf = requestAnimationFrame(step);\n  }\n  function step(t) {\n    var activeInstancesLength = activeInstances.length;\n    if (activeInstancesLength) {\n      var i = 0;\n      while (i < activeInstancesLength) {\n        var activeInstance = activeInstances[i];\n        if (!activeInstance.paused) {\n          activeInstance.tick(t);\n        } else {\n          var instanceIndex = activeInstances.indexOf(activeInstance);\n          if (instanceIndex > -1) {\n            activeInstances.splice(instanceIndex, 1);\n            activeInstancesLength = activeInstances.length;\n          }\n        }\n        i++;\n      }\n      play();\n    } else {\n      raf = cancelAnimationFrame(raf);\n    }\n  }\n  return play;\n})();\n\nfunction handleVisibilityChange() {\n  if (document.hidden) {\n    activeInstances.forEach(function (ins) { return ins.pause(); });\n    pausedInstances = activeInstances.slice(0);\n    anime.running = activeInstances = [];\n  } else {\n    pausedInstances.forEach(function (ins) { return ins.play(); });\n  }\n}\n\nif (typeof document !== 'undefined') {\n  document.addEventListener('visibilitychange', handleVisibilityChange);\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    if (!raf) { engine(); }\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargets(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    var animations = instance.animations;\n    var children = instance.children;\n    removeTargetsFromAnimations(targetsArray, animations);\n    for (var c = children.length; c--;) {\n      var child = children[c];\n      var childAnimations = child.animations;\n      removeTargetsFromAnimations(targetsArray, childAnimations);\n      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n    }\n    if (!animations.length && !children.length) { instance.pause(); }\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.1.0';\nanime.speed = 1;\nanime.running = activeInstances;\nanime.remove = removeTargets;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","import anime from 'animejs'\n\nexport default {\n  'css': `my-app h1,[is=\"my-app\"] h1{ color: green; display: flex; } my-app .unmount-animation,[is=\"my-app\"] .unmount-animation{ opacity: 1; transition: opacity 1s; } my-app .unmount-animation.is-unmount,[is=\"my-app\"] .unmount-animation.is-unmount{ opacity: 0; }`,\n\n  'exports': {\n    state: {\n      finishAnimation: false,\n      test: 'Hello Riot!'\n    },\n\n    onMounted() {\n      anime({\n        targets: this.$('[ref=\"button\"]'),\n        translateX: 20,\n        easing: 'easeInOutSine',\n        duration: 1000,\n        loop: true,\n        direction: 'alternate'\n      })\n    },\n\n    animationUnmount(e){\n      this.$('[ref=\"button\"]').addEventListener('transitionend', function(e) {\n        console.log('')\n      })\n      this.$('[ref=\"button\"]').classList.add('is-unmount')\n    }\n  },\n\n  'template': function(template, expressionTypes, bindingTypes, getComponent) {\n    return template(\n      '<div><h1>Thie is Riot test.</h1><p expr0=\"expr0\"><!----></p><button expr1=\"expr1\" class=\"unmount-animation\" ref=\"button\"></button><raw-html expr2=\"expr2\" content=\"\"></raw-html></div>',\n      [{\n        'redundantAttribute': 'expr0',\n        'selector': '[expr0]',\n\n        'expressions': [{\n          'type': expressionTypes.TEXT,\n          'childNodeIndex': 0,\n\n          'evaluate': function(scope) {\n            return scope.state.test;\n          }\n        }]\n      }, {\n        'redundantAttribute': 'expr1',\n        'selector': '[expr1]',\n\n        'expressions': [{\n          'type': expressionTypes.EVENT,\n          'name': 'onclick',\n\n          'evaluate': function(scope) {\n            return scope.animationUnmount;\n          }\n        }]\n      }, {\n        'type': bindingTypes.TAG,\n        'getComponent': getComponent,\n\n        'evaluate': function(scope) {\n          return 'raw-html';\n        },\n\n        'slots': [],\n\n        'attributes': [{\n          'type': expressionTypes.ATTRIBUTE,\n          'name': 'content',\n\n          'evaluate': function() {\n            return '';\n          }\n        }],\n\n        'redundantAttribute': 'expr2',\n        'selector': '[expr2]'\n      }]\n    );\n  },\n\n  'name': 'my-app'\n};","export default {\n  'css': null,\n  'exports': null,\n\n  'template': function(template, expressionTypes, bindingTypes, getComponent) {\n    return template('<span expr3=\"expr3\"><!----></span>', [{\n      'redundantAttribute': 'expr3',\n      'selector': '[expr3]',\n\n      'expressions': [{\n        'type': expressionTypes.TEXT,\n        'childNodeIndex': 0,\n\n        'evaluate': function(scope) {\n          return scope.props.content;\n        }\n      }]\n    }]);\n  },\n\n  'name': 'raw-html'\n};","import { register, mount } from 'riot'\nimport App from '../riot/my-app.riot'\nimport RawHtml from '../riot/raw-html.riot'\n\nregister('my-app', App)\nmount('#my-app')"]}